!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Swipe=e()}):"object"==typeof exports?module.exports=e():t.Swipe=e()}(this,function(){function t(t,i){"use strict";function o(){if(x=w.children,L=x.length,x.length<2&&(i.continuous=!1),b.transitions&&i.continuous&&x.length<3){var n=x[0].cloneNode(!0),s=w.children[1].cloneNode(!0);w.appendChild(n),w.appendChild(s),n.setAttribute("data-cloned",!0),s.setAttribute("data-cloned",!0),x=w.children}T=new Array(x.length),g=t.getBoundingClientRect().width||t.offsetWidth,w.style.width=x.length*g*2+"px";for(var r=x.length;r--;){var u=x[r];u.style.width=g+"px",u.setAttribute("data-index",r),b.transitions&&(u.style.left=r*-g+"px",d(r,D>r?-g:r>D?g:0,0))}i.continuous&&b.transitions&&(d(a(D-1),-g,0),d(a(D+1),g,0)),b.transitions||(w.style.left=D*-g+"px"),t.style.visibility="visible",b.addEventListener?(b.touch&&w.addEventListener("touchstart",S,!1),i.draggable&&w.addEventListener("mousedown",S,!1),b.transitions&&(w.addEventListener("webkitTransitionEnd",S,!1),w.addEventListener("msTransitionEnd",S,!1),w.addEventListener("oTransitionEnd",S,!1),w.addEventListener("otransitionend",S,!1),w.addEventListener("transitionend",S,!1)),e.addEventListener("resize",S,!1)):e.onresize=function(){o()}}function s(){i.continuous?c(D-1):D&&c(D-1)}function r(){i.continuous?c(D+1):D<x.length-1&&c(D+1)}function a(t){return(x.length+t%x.length)%x.length}function u(){var t=D;return t>=L&&(t-=L),t}function c(t,e){if(t="number"!=typeof t?parseInt(t,10):t,D!==t){if(b.transitions){var n=Math.abs(D-t)/(D-t);if(i.continuous){var o=n;n=-T[a(t)]/g,n!==o&&(t=-n*x.length+t)}for(var s=Math.abs(D-t)-1;s--;)d(a((t>D?t:D)-s-1),g*n,0);t=a(t),d(D,g*n,e||k),d(t,0,e||k),i.continuous&&d(a(t-n),-(g*n),0)}else t=a(t),v(D*-g,t*-g,e||k);D=t,y(function(){i.callback&&i.callback(u(),x[D])})}}function d(t,e,n){l(t,e,n),T[t]=e}function l(t,e,n){var i=x[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform="translate("+e+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+e+"px)")}function v(t,e,n){if(!n)return void(w.style.left=e+"px");var o=+new Date,s=setInterval(function(){var r=+new Date-o;return r>n?(w.style.left=e+"px",A&&f(),i.transitionEnd&&i.transitionEnd.call(event,u(),x[D]),void clearInterval(s)):void(w.style.left=(e-t)*(Math.floor(r/n*100)/100)+t+"px")},4)}function f(){M=setTimeout(r,A)}function h(){A=0,clearTimeout(M)}function m(){h(),A=i.auto||0,f()}function p(t){return/^mouse/.test(t.type)}var E=function(){},y=function(t){setTimeout(t||E,0)},b={addEventListener:!!e.addEventListener,touch:"ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(n.createElement("swipe"))};if(t){var x,T,g,L,w=t.children[0];i=i||{};var D=parseInt(i.startSlide,10)||0,k=i.speed||300;i.continuous=void 0!==i.continuous?i.continuous:!0,i.autoRestart=void 0!==i.autoRestart?i.autoRestart:!1;var M,z,S={handleEvent:function(t){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":y(o)}i.stopPropagation&&t.stopPropagation()},start:function(t){var e;p(t)?(e=t,t.preventDefault()):e=t.touches[0],I={x:e.pageX,y:e.pageY,time:+new Date},z=void 0,O={},p(t)?(w.addEventListener("mousemove",this,!1),w.addEventListener("mouseup",this,!1),w.addEventListener("mouseleave",this,!1)):(w.addEventListener("touchmove",this,!1),w.addEventListener("touchend",this,!1))},move:function(t){var e;if(p(t))e=t;else{if(t.touches.length>1||t.scale&&1!==t.scale)return;i.disableScroll&&t.preventDefault(),e=t.touches[0]}O={x:e.pageX-I.x,y:e.pageY-I.y},"undefined"==typeof z&&(z=!!(z||Math.abs(O.x)<Math.abs(O.y))),z||(t.preventDefault(),h(),i.continuous?(l(a(D-1),O.x+T[a(D-1)],0),l(D,O.x+T[D],0),l(a(D+1),O.x+T[a(D+1)],0)):(O.x=O.x/(!D&&O.x>0||D===x.length-1&&O.x<0?Math.abs(O.x)/g+1:1),l(D-1,O.x+T[D-1],0),l(D,O.x+T[D],0),l(D+1,O.x+T[D+1],0)))},end:function(t){var e=+new Date-I.time,n=Number(e)<250&&Math.abs(O.x)>20||Math.abs(O.x)>g/2,o=!D&&O.x>0||D===x.length-1&&O.x<0;i.continuous&&(o=!1);var s=O.x<0;z||(n&&!o?(s?(i.continuous?(d(a(D-1),-g,0),d(a(D+2),g,0)):d(D-1,-g,0),d(D,T[D]-g,k),d(a(D+1),T[a(D+1)]-g,k),D=a(D+1)):(i.continuous?(d(a(D+1),g,0),d(a(D-2),-g,0)):d(D+1,g,0),d(D,T[D]+g,k),d(a(D-1),T[a(D-1)]+g,k),D=a(D-1)),i.callback&&i.callback(u(),x[D])):i.continuous?(d(a(D-1),-g,k),d(D,0,k),d(a(D+1),g,k)):(d(D-1,-g,k),d(D,0,k),d(D+1,g,k))),p(t)?(w.removeEventListener("mousemove",S,!1),w.removeEventListener("mouseup",S,!1),w.removeEventListener("mouseleave",S,!1)):(w.removeEventListener("touchmove",S,!1),w.removeEventListener("touchend",S,!1))},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===D&&((A||i.autoRestart)&&m(),i.transitionEnd&&i.transitionEnd.call(t,u(),x[D]))}},A=i.auto||0,I={},O={};return o(),A&&f(),{setup:function(){o()},slide:function(t,e){h(),c(t,e)},prev:function(){h(),s()},next:function(){h(),r()},restart:function(){m()},stop:function(){h()},getPos:function(){return u()},getNumSlides:function(){return L},kill:function(){h(),t.style.visibility="",w.style.width="",w.style.left="";for(var n=x.length;n--;){b.transitions&&l(n,0,0);var i=x[n];if(i.getAttribute("data-cloned")){var o=i.parentElement;o.removeChild(i)}i.style.width="",i.style.left="",i.style.webkitTransitionDuration=i.style.MozTransitionDuration=i.style.msTransitionDuration=i.style.OTransitionDuration=i.style.transitionDuration="",i.style.webkitTransform=i.style.msTransform=i.style.MozTransform=i.style.OTransform=""}b.addEventListener?(w.removeEventListener("touchstart",S,!1),w.removeEventListener("mousedown",S,!1),w.removeEventListener("webkitTransitionEnd",S,!1),w.removeEventListener("msTransitionEnd",S,!1),w.removeEventListener("oTransitionEnd",S,!1),w.removeEventListener("otransitionend",S,!1),w.removeEventListener("transitionend",S,!1),e.removeEventListener("resize",S,!1)):e.onresize=null}}}}var e=this,n=e.document;return(e.jQuery||e.Zepto)&&!function(e){e.fn.Swipe=function(n){return this.each(function(){e(this).data("Swipe",new t(e(this)[0],n))})}}(e.jQuery||e.Zepto),t});