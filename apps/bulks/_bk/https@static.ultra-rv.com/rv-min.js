function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"function"==typeof define&&define.amd?define("IronRV",e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e():t.IronRV||(t.IronRV=e())}(this,function(){var t=undefined,ke={DEBUG:!1,LOG_ATOM:!0,SDK_VER:"2.0.8",API_PATH:"../../../https@ultra-rv.com",STATIC_PATH:"../../../https@static.ultra-rv.com",ATOM_ENDPOINT:"../../../https@webrv.atom-ds.com/default.htm",ATOM_AUTH:"uG0SpdlbT9TGrowVYhxQmQJIzHip30",OFFER_TIMEOUT:500,PUSHER_CLEAR_TIMEOUT:3600,CLOSE_BUTTON_TIMEOUT:30,CLOSE_BUTTON_TIMEOUT_INTERSTITIAL:10,NO_FILL_COUNT:10,NO_FILL_MINUTES:120,LOCAL_STORAGE_NO_FILL:"ironrv_timestamp",PREF_PREFIX:"rv",PREF_DEVICE_ID:"device_id",PREF_EVENT_ID:"event_id",BASE_STYLES:'.ironrv-bg{position:fixed;padding:0;margin:0;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);z-index:10000;display:none}.ironrv-container{position:fixed;top:50px;width:704px;left:50%;margin-left:-352px;background-color:#1e1e27;border:1px solid #383b3c;border-radius:7px;z-index:10001;display:none;-moz-box-shadow:0 0 15px #000;-webkit-box-shadow:0 0 15px #000;box-shadow:0 0 15px #000;opacity:1}.ironrv-fullscreen{top:0;bottom:0;left:0;margin-left:0;width:100%;height:100%}.ironrv-container.custom-container{top:0;left:0;margin-left:0;position:static}.ironrv-container-header,.ironrv-container-ichdr{position:relative;float:left;width:100%;min-height:50px;color:#d2d7de!important;background-color:#171724;border-bottom:1px solid #3f3d3d;border-top-left-radius:7px;border-top-right-radius:7px}.ironrv-container-header *,.ironrv-container-ichdr *{color:#d2d7de!important}.ironrv-container-header.complete{-webkit-transition:background-color .5s linear;-ms-transition:background-color .5s linear;transition:background-color .5s linear;background-color:#0f3196!important}.ironrv-container-footer{position:relative;float:left;clear:both;width:100%;height:0;background-color:#1e1e27;border-top:1px solid #181a1c;border-bottom-left-radius:7px;border-bottom-right-radius:7px;color:#d2d7de}.ironrv-title-logo{position:absolute;background-repeat:no-repeat;float:left;top:5px;left:10px;z-index:1;width:150px;height:40px;background-size:contain;background-color:transparent}.ironrv-footer,.ironrv-title{float:left;font-family:"Century Gothic","Avant Garde Gothic","Avant Garde","URW Gothic L",helvetica,sans-serif;font-size:16px;margin-top:16px;text-align:center;width:100%;padding-left:30px;padding-right:30px;background-color:transparent}.ironrv-footer{margin-top:11px}.ironrv-close{position:absolute;z-index:1;font-family:arial;font-size:11px;top:14px;right:10px;font-weight:700;cursor:pointer;border:2px solid #c4c9cf;border-radius:50%;padding:2px 5px;padding-top:2px;background-color:transparent}.ironrv-close-inner{z-index:1000;right:15px;color:#fff}.ironrv-close-ins-cross-btn{right:auto;left:15px}.ironrv-close.skip{border:0}#epom-tag-container-outer{position:relative;float:left;clear:both;width:100%;height:396px;background-color:#1e1e27;z-index:1}#epom-tag-container{float:left;width:100%;height:100%}#epom-tag-container-overlay{position:absolute;top:0;left:0;float:left;width:100%;height:100%;background-color:#1e1e27;z-index:1}.ironrv-error{margin:0;position:absolute;top:50%;left:50%;margin-right:-50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);width:300px;height:300px;color:#c7cdd4;font-size:14px;font-family:arial;font-family:"Century Gothic","Avant Garde Gothic","Avant Garde","URW Gothic L",helvetica,sans-serif;text-align:center}.smiley-sad{width:300px;color:#f8f8f8;font-size:100px}.ironrv-loading-texts{position:absolute;text-align:center;bottom:0;width:100%;color:#cacaca;font-weight:300;top:270px;height:30px}.ironrv-text{opacity:0;width:100%;text-align:center;position:absolute;bottom:50px;left:0;font-size:15px;font-family:"Century Gothic","Avant Garde Gothic","Avant Garde","URW Gothic L",helvetica,sans-serif}'};window.IRONRV_CONFIG=ke,function(t,e,i){"use strict";function n(t){t=t||{};this.options={endpoint:t.endpoint||"https://track.atom-data.io/",apiVersion:"V1",auth:t.auth||"",sdkVersion:"1.5.0",sdkType:"atom-js"}}function o(t){if(this.params=t||{},"string"!=typeof t.data&&!(t.data instanceof String))try{this.params.data=JSON.stringify(this.params.data)}catch(e){throw new Error("data is invalid - can't be stringified")}this.headers={contentType:"application/json;charset=UTF-8",sdkType:this.params.sdkType,sdkVersion:this.params.sdkVersion},this.xhr=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function a(t,e,n){this.error=t,this.response=e,this.status=n}function r(t){var e=this;this.retryTimeout=1e3,t=t||{},this.params=t,this.params.flushInterval=t.flushInterval?1e3*t.flushInterval:3e4,this.params.bulkLen=t.bulkLen?t.bulkLen:20,this.params.bulkSize=t.bulkSize?1024*t.bulkSize:40960,this.params.auth=t.auth?t.auth:"",this.accumulated={},this.atom=new n(t),this.timer||(this.timer=setInterval(function(){e.flush()},this.params.flushInterval))}function s(t,i){function e(t,r){t(function(t,e,n){if(o[r]={err:t,data:e,status:n},0==--a)return i(o)})}for(var o=[],a=t.length,n=0;n<t.length;n++)e(t[n],n)}(t.IronSourceAtom=n).prototype.putEvent=function(t,e){if(!(t=t||{}).stream)return e("Stream is required",null,400);if(!t.data)return e("Data is required",null,400);t.apiVersion=this.options.apiVersion,t.sdkVersion=this.options.sdkVersion,t.sdkType=this.options.sdkType,t.auth=t.auth||this.options.auth,t.endpoint=t.endpoint||this.options.endpoint;var n=new o(t);return t.method&&"GET"===t.method.toUpperCase()?n.get(e):n.post(e)},n.prototype.putEvents=function(t,e){return(t=t||{}).stream?t.data&&t.data instanceof Array&&t.data.length?t.method&&"GET"==t.method.toUpperCase()?e("GET is not a valid method for putEvents",null,400):(t.apiVersion=this.options.apiVersion,t.auth=this.options.auth,t.sdkVersion=this.options.sdkVersion,t.sdkType=this.options.sdkType,t.endpoint=this.options.endpoint+"bulk",new o(t).post(e)):e("Data (must be not empty array) is required",null,400):e("Stream is required",null,400)},n.prototype.health=function(t){return new o(this.options).health(t)},"undefined"!=typeof module&&module.exports&&(module.exports={IronSourceAtom:n,Request:o,Response:a,Tracker:r,taskMap:s}),o.prototype.post=function(n){if(!this.params.stream||!this.params.data)return n("Stream and Data fields are required",null,400);var r=this.xhr,t=JSON.stringify({data:this.params.data,table:this.params.stream,apiVersion:this.params.apiVersion,auth:this.params.auth?S.HmacSHA256(this.params.data,this.params.auth).toString(S.enc.Hex):""});r.open("POST",this.params.endpoint,!0),r.setRequestHeader("Content-type",this.headers.contentType),r.setRequestHeader("x-ironsource-atom-sdk-type",this.headers.sdkType),r.setRequestHeader("x-ironsource-atom-sdk-version",this.headers.sdkVersion),r.onreadystatechange=function(t){var e;r.readyState===XMLHttpRequest.DONE&&(200==r.status?(e=new a(null,r.response,r.status),n(null,e.data(),r.status)):400<=r.status&&r.status<600?(e=new a(r.response,null,r.status),n(e.err(),null,r.status)):0==r.status&&n("No connection to server",null,500))},r.send(t)},o.prototype.get=function(e){if(!this.params.stream||!this.params.data)return e("Stream and Data fields are required",null,null);var t,n=this.xhr,r=JSON.stringify({table:this.params.stream,data:this.params.data,apiVersion:this.params.apiVersion,auth:this.params.auth?S.HmacSHA256(this.params.data,this.params.auth).toString(S.enc.Hex):""});try{t=btoa(r)}catch(o){}n.open("GET",this.params.endpoint+"?data="+t,!0),n.setRequestHeader("Content-type",this.headers.contentType),n.setRequestHeader("x-ironsource-atom-sdk-type",this.headers.sdkType),n.setRequestHeader("x-ironsource-atom-sdk-version",this.headers.sdkVersion),n.onreadystatechange=function(){var t;n.readyState===XMLHttpRequest.DONE&&(200==n.status?(t=new a(null,n.response,n.status),e(null,t.data(),n.status)):400<=n.status&&n.status<600?(t=new a(n.response,null,n.status),e(t.err(),null,n.status)):0==n.status&&e("No connection to server",null,500))},n.send()},o.prototype.health=function(e){var n=this.xhr;n.open("GET",this.params.endpoint+"health",!0),n.onreadystatechange=function(){var t;n.readyState===XMLHttpRequest.DONE&&(200==n.status?(t=new a(null,n.response,n.status),e&&e(null,t.data(),n.status)):(t=new a(n.response,null,n.status),e&&e(t.err(),null,n.status)))},n.send()},a.prototype.data=function(){if(this.error)return null;try{return JSON.parse(this.response)}catch(t){return this.response}},a.prototype.err=function(){try{return JSON.parse(this.error)}catch(t){return this.error}},(t.IronSourceAtom.Tracker=r).prototype.track=function(t,e){var n=this;if(t===i||0==t.length||0==e.length||e===i)throw new Error("Stream name and data are required parameters");if(t in n.accumulated||(n.accumulated[t]=[]),"string"==typeof e||e instanceof String)n.accumulated[t].push(e);else try{n.accumulated[t].push(JSON.stringify(e))}catch(o){throw new Error("Invalid Data - can't be stringified",o)}(n.accumulated[t].length>=n.params.bulkLen||function r(t){return encodeURI(t).split(/%..|./).length-1}(n.accumulated[t])>=n.params.bulkSize)&&n.flush(t)},r.prototype.flush=function(e,n){function u(r,i,o,a,s){return s&&(c.accumulated[r]=[],s=!1),c.atom.putEvents({stream:r,data:i},function(t,e,n){return null!=t&&500<=n?o<12e5?void setTimeout(function(){o=2*o+Math.floor(1e3*Math.random()+100),u(r,i,o,a,s)},o):a("Timeout - No response from server",null,408):a(t,e,n)})}var c=this,r=this.retryTimeout;n=n||function n(t,e){return t?new Error(t):e};var t=[];if(e)1<=c.accumulated[e].length&&t.push(function(t){u(e,c.accumulated[e],r,t,!0)});else for(var i in c.accumulated)1<=c.accumulated[i].length&&function(e){t.push(function(t){return u(e,c.accumulated[e],r,t,!0)})}(i);return s(t,n)};var l,u,c,f,h,d,p,v,g,m,y,w,_,b,E,S=S||(l=Math,f=(c={}).lib={},h=f.Base={extend:function(t){T.prototype=this;var e=new T;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},d=f.WordArray=h.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=u?e:4*t.length},toString:function(t){return(t||v).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=l.ceil(e/4)},clone:function(){var t=h.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e,n=[],i=function i(e){e=e;var n=987654321,r=4294967295;return function(){var t=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return t/=4294967296,(t+=.5)*(.5<l.random()?1:-1)}},r=0;r<t;r+=4){var o=i(4294967296*(e||l.random()));e=987654071*o(),n.push(4294967296*o()|0)}return new d.init(n,t)}}),p=c.enc={},v=p.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new d.init(n,e/2)}},g=p.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new d.init(n,e)}},m=p.Utf8={stringify:function(t){try{return decodeURIComponent(escape(g.stringify(t)))}catch(u){throw new Error("Malformed UTF-8 data")}},parse:function(t){return g.parse(unescape(encodeURIComponent(t)))}},y=f.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=m.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,r=e.sigBytes,i=this.blockSize,o=r/(4*i),a=(o=t?l.ceil(o):l.max((0|o)-this._minBufferSize,0))*i,s=l.min(4*a,r);if(a){for(var u=0;u<a;u+=i)this._doProcessBlock(n,u);var c=n.splice(0,a);e.sigBytes-=s}return new d.init(c,s)},clone:function(){var t=h.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),f.Hasher=y.extend({cfg:h.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,e){return new n.init(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return new w.HMAC.init(n,e).finalize(t)}}}),w=c.algo={},c);function T(){}!function(i){var t=S,e=t.lib,n=e.WordArray,r=e.Hasher,o=t.algo,a=[],w=[];!function(){function t(t){for(var e=i.sqrt(t),n=2;n<=e;n++)if(!(t%n))return!1;return!0}function e(t){return 4294967296*(t-(0|t))|0}for(var n=2,r=0;r<64;)t(n)&&(r<8&&(a[r]=e(i.pow(n,.5))),w[r]=e(i.pow(n,1/3)),r++),n++}();var _=[],s=o.SHA256=r.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],f=0;f<64;f++){if(f<16)_[f]=0|t[e+f];else{var h=_[f-15],d=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,p=_[f-2],v=(p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10;_[f]=d+_[f-7]+v+_[f-16]}var g=r&i^r&o^i&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),y=l+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&c)+w[f]+_[f];l=c,c=u,u=s,s=a+y|0,a=o,o=i,i=r,r=y+(m+g)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+l|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(64+r>>>9<<4)]=i.floor(n/4294967296),e[15+(64+r>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA256=r._createHelper(s),t.HmacSHA256=r._createHmacHelper(s)}(Math),b=(_=S).lib.Base,E=_.enc.Utf8,_.algo.HMAC=b.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=E.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),a=i.words,s=o.words,u=0;u<n;u++)a[u]^=1549556828,s[u]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}}),t.ironSourceAtomInit=t.ironSourceAtomInit||function(){},t.ironSourceAtomInit()}(window,document,undefined);var u,Ie=function(){"use strict";var t,d=((t={}).fadeOut=function(e,t,n){var r=function r(t){e.style.opacity=1-t,1===t&&(e.style.display="none",e.style.opacity="")},i=a(t,r,n);requestAnimationFrame(i)},t.fadeIn=function(e,t,n,r){e.style.opacity=0,e.style.display=n||"block";var i=function i(t){e.style.opacity=t},o=a(t,i,r);requestAnimationFrame(o)},t);function a(r,i,o){var a;return function s(t){var e=t-(a=a||t),n=Math.min(e/r,1);i(n),e<r?requestAnimationFrame(s):"function"==typeof o&&o()}}var n,r,i,p=(i=r=!(n=[]),function(t,e){if("function"!=typeof t)throw new TypeError("callback for docReady(fn) must be a function");r?setTimeout(function(){t(e)},1):(n.push({fn:t,ctx:e}),"complete"===document.readyState?setTimeout(o,1):i||(document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",s),window.attachEvent("onload",o)),i=!0))});function o(){if(!r){r=!0;for(var t=0;t<n.length;t++)n[t].fn.call(window,n[t].ctx);n=[]}}function s(){"complete"===document.readyState&&o()}function v(){}var g=window.console;function m(t){if(y("devThrowError: "+t),ke.DEBUG)throw new Error(t)}function y(t){Tn.atomReport&&Tn.atomReport({name:"error_ui",msg:t},"")}(g=g||{}).debug||(g.debug=void 0);var w=100,_=function c(){var r={};return{addElementListener:function(t,e,n){r[t]||(r[t]={}),r[t][e]||(r[t][e]=[]),r[t][e].push(n)},getListeners:function(t,e){return r[t]&&r[t][e]&&r[t][e].length?r[t][e]:[]},dropListeners:function(t,e){r[t]&&r[t][e]&&delete r[t][e]}}}(),b={elements:{},getStored:function(t,e){if(t){var n=this._getId(t);if(n&&this.elements[n])return e?this.elements[n][e]:this.elements[n]}},storeProperty:function(t,e,n){var r=this._getId(t);r&&(this.elements[r]||(this.elements[r]={}),this.elements[r][e]=n)},_getId:function(t){switch(!0){case Boolean(t.id):return"#"+t.id;case Boolean(t.className):return"."+t.className;case Boolean(t.tagName):return t.tagName}}};function e(o){var i=[];if(0===o.toString().indexOf("<"))i=function c(t){var e=document.createElement("div");e.innerHTML=t;var n=[],r=0;for(;e.firstChild;)if(n.push(e.firstChild),e.removeChild(e.firstChild),++r>w){m("unlimit while log; createElement");break}return n}(o);else if("[object Window]"===o.toString()||"[object HTMLIFrameElement]"===o.toString()||"[object HTMLDivElement]"===o.toString()||"[object HTMLDocument]"===o.toString())i=[o];else try{var t=document.querySelectorAll(o);i=[];for(var e=0,n=t.length;e<n;e++)i.push(t[e])}catch(r){throw y("wrapper: "+(r.message||r)),r}var a=i[0];function s(t,e){var n=document.createElement("div");n.innerHTML=e;for(var r=0;n.firstChild;)if(t.appendChild(n.firstChild),++r>w){m("unlimit while log; appendInnerHtml");break}}0===i.length&&!function l(){if(ke.DEBUG){var t=Array.prototype.slice.call(arguments),e=g.log;"WARNING"===t.shift()&&(e=g.warn),e=e||v,t.unshift("[ui-helper] >>> "),e.apply(g,t)}}("WARNING","no_elements for selector: ",o.toString()),a||(i=[a={style:{},firstChild:null,removeChild:v,appendChild:v,className:"",listeners:{},parentNode:{removeChild:v}}]);var u={length:i.length,get:function(){return a},remove:function(){return a.parentNode.removeChild(a),u},prop:function f(e,n){if(n===undefined)return a[e];function f(t){t[e]=n}for(var t=i.length,r=0;r<t;r++)f(i[r]);return u},val:function(t){return void 0===t?a.value:(a.value=t,u)},append:function(t){return-1<t.toString().indexOf("[object HTML")?a.appendChild(t):s(a,t),u},click:function(t){return u.on("click",t),u},on:function(t,e,n){function r(t){return e?t.target.nodeName.toLowerCase()===e?n():void 0:n()}void 0===n&&(n=e,e=null);var i=o.toString();return _.addElementListener(i,t,r),a.addEventListener(t,r),u},unbind:function(e){var t=o.toString();return _.getListeners(t,e).forEach(function(t){return a.removeEventListener(e,t)}),_.dropListeners(t,e),u},removeClass:function h(e){function h(t){-1<t.className.indexOf(e)&&(t.className=t.className.split(" ").filter(function(t){return t!==e}).join(" "))}for(var t=i.length,n=0;n<t;n++)h(i[n]);return u},addClass:function(t){return-1===a.className.indexOf(t)&&(a.className+=" "+t),u},html:function(t){return function r(t,e){for(var n=0;t.firstChild;)if(t.removeChild(t.firstChild),++n>w){m("unlimit while log; setInnerHtml");break}e&&s(t,e)}(a,t),u},show:function(t){var e=b.getStored(a,"display");return this.css("display",t||e||"inline"),u},hide:function(){var t=this.css("display");return t&&"none"!==t&&b.storeProperty(a,"display",this.css("display")),this.css("display","none"),u},fadeIn:function(t){var e=b.getStored(a,"display");return d.fadeIn(a,400,t||e||"inline"),u},fadeOut:function(){var t=this.css("display");return t&&"none"!==t&&b.storeProperty(a,"display",this.css("display")),d.fadeOut(a,400),u},height:function(t){return t!==undefined?u.css("height",t):a.offsetHeight},width:function(t){return t!==undefined?u.css("width",t):a.offsetWidth},css:function(t,e){return e===undefined?a.style[t]:(a.style[t]=e,u)},ready:function(t){p(t,a)}};return u}function u(t){if(t)return"function"==typeof t?p(t):e(t);m("Used without argument")}return u.height=function(){try{var n=document;if(!n||"function"==typeof n.toString||"[object HTMLDocument]"!==n.toString())return;var r=["scrollHeight","offsetHeight","clientHeight"],i=function i(t){if(!n[t])return Infinity;var e=n[t];return Math.min.apply(Math.min,r.map(function(t){return e[t]||0}))},t=Math.min(i("body"),i("documentElement"));return t===Infinity?undefined:t}catch(e){y("document_height")}},u}();function c(){this._listeners={}}window.$rv=Ie,u=function u(t){if(ke.DEBUG&&window.console){if(window.console.error)return window.console.error(t);window.console.log&&window.console.log(t)}},c.prototype={addListener:function(t,e){return(this._listeners[t]=this._listeners[t]||[]).push(e),this},removeListener:function(t,e){if(1===arguments.length)this._listeners[t]=[];else if("function"==typeof e){var n=this._listeners[t];if(n!==undefined){for(var r=-1,i=0,o=n.length;i<o&&-1===r;i++)n[i]===e&&(r=i);0<=r&&n.splice(r,1)}}return this},trigger:function(t,e){var n=this._listeners[t];if(e=e||[],n!==undefined)for(var r,i={},o=0,a=n.length;o<a;o++){r=new c.EventArg(t,i);try{n[o].apply(window,e.concat(r))}catch(s){u('[ERROR] in listener "'+t+'": '+(s.message||s)),Tn.atomReport&&Tn.atomReport({name:"client_listener_error",msg:t})}if(i=r.data,r.removed&&(n.splice(o,1),a=n.length,--o),r.cancelled)break}return this},hasListeners:function(t){return 0<(this._listeners[t]===undefined?0:this._listeners[t].length)}},(c.eventify=function(e,n){var t=c.eventify.methods;n=n||new c;for(var r=0,i=t.length;r<i;r++)!function(t){e[t]=function(){return n[t].apply(n,arguments)}}(t[r]);return n}).methods=["addListener","removeListener","trigger"],(c.EventArg=function(t,e){this.name=t,this.data=e,this.cancelled=!1,this.removed=!1}).prototype={cancel:function(){this.cancelled=!0},remove:function(){this.removed=!0}},window.IronEventManager=c;var l,Re={injectParams:function(t){l="us_privacy="+t},send:function(t,e,n){function i(t,e){n&&n(t,e),n=null}var r=[];for(var o in e)r.push(o+"="+e[o]);l&&r.push(l);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){var t=200!==a.status,e=null;if(200===a.status){var n;try{n=JSON.parse(a.responseText)}catch(r){t=!0}n?null!=n.status&&1!=n.status?t=n:e=n:t=!0}i(!0===t?{status:-100}:t,e)}},a.addEventListener("error",i),a.addEventListener("abort",i),a.open("POST",t,!0),function s(){return window&&window.location&&("127.0.0.1"===window.location.hostname||"localhost"===window.location.hostname)}()||(a.withCredentials=!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(r.join("&"))},pixel:function(t,e){function n(){e&&e(),e=null}l&&(t+=-1===t.indexOf("?")?"?":"&",t+=l);var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&n()},r.addEventListener("error",n),r.addEventListener("abort",n),r.open("GET",t,!0),r.send(null)},jsonp:function(t,e){var n=function n(){},r=e.success||n,i="cb_"+f()+"_"+f()+"_"+f(),o=window.setTimeout(function(){r()},3e3);window[i]=function(t){window.clearTimeout(o),r(t)};var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.onerror=e.error||n;var s=t+(-1===t.indexOf("?")?"?":"&")+"callback="+i;l&&(s+="&"+l),a.src=s,(document.head||document.getElementsByTagName("head")[0]||document.body).appendChild(a)}};function f(){return Math.floor(1e5*Math.random())+1e6}var o=function o(n){var t=!1,r=new IronEventManager;this.name="",this.EVENTS={SCRIPT_LOADED:"scriptLoaded",IMPRESSION:"impression",CLICK:"click",COMPLETION:"completion",VIDEO_STARTED:"videoStarted",VIDEO_COMPLETED:"videoCompleted",NO_CAMPAIGNS:"no_campaigns",AD_BLOCK:"ad_block",AD_EXPIRED:"adExpired",IMPRESSION_ERR:"impression_err"},this.addListener=function(t,e){r.addListener(t,function(){e()})},this.trigger=function(t){r.trigger(t)},this.getName=function(){return this.name},this.scriptLoaded=function(){t=!0,this.trigger(this.EVENTS.SCRIPT_LOADED)},this.isScriptLoaded=function(){return t},this.isAdAvailable=function(){},this.setDataParam=function(t,e){n&&n.data&&(n.data[t]=e)}},y={},w=function w(l){var f=this;o.call(this),this.name="epom";var u=[],t=!1;f.adContent="",f.adExtra=null,f.expireAdHandler=null,f.isScriptLoaded=!1;var h=1e4,c=function c(t){ke.DEBUG&&window.console&&window.console.log&&console.log(t)},a=function a(t){var e={pub_id:l.data.pubId,app_key:l.data.appKey,user_id:l.data.userId,device_id:l.data.deviceId,session_id:l.data.sessionId,impression_id:l.data.impressionId,sdk_version:l.data.sdkVersion,ip:l.data.ip,browser:l.data.browser,os:l.data.os},n=!1;if(l.data.rewardId&&(e.reward_id=l.data.rewardId),l.data.rewardName&&(e.reward_name=l.data.rewardName),l.data.rewardCount&&(e.reward_count=l.data.rewardCount),l.data.rewardTimeStamp&&(e.reward_timestamp=l.data.rewardTimeStamp),l.data.rewardSignature&&(e.reward_signature=l.data.rewardSignature),l.data.mobilePublisherId&&(e.mobile_publisher_id=l.data.mobilePublisherId),l.data.impressionCustomParams)for(i in l.data.impressionCustomParams)n||(n=!0,e.custom=1),e["cstm_"+i]=l.data.impressionCustomParams[i];var r=[];for(var i in e)r.push(i+"="+(e[i]||""));if((n={"cp.page_url":l.data.pageUrl,"cp.width":l.data.containerWidth,"cp.height":l.data.containerHeight,"cp.dyn":r.join("&"),"cp.dynamic_parameter":"","cp.ip":l.data.ip,"cp.lon":"","cp.lat":"","cp.tt":l.data.tt,"cp.app_name":l.data.appName,"cp.reward_id":l.data.rewardId,"cp.plid":l.data.epomPubId,"cp.impid":l.data.impressionId,"cp.cplid":(l.data.cc||"AA")+"_"+l.data.epomPubId})["cp.targeting"]=l.data.adUnit||"",t)for(var i in t)n["cp."+i]=t[i];return n};function d(t){return t=t.replace(/\{\{ISRV_USER_ID\}\}/g,l.data.userId),l.data.storeId&&(t=t.replace(/\{\{ISRV_STORE_ID\}\}/g,l.data.storeId)),t}var p=function p(){f.isScriptLoaded=!1;var t=document.createElement("iframe");t.id="epom-tag-container-iframe",t.width=l.data.containerWidth,t.height=l.data.containerHeight,t.frameBorder=0,t.scrolling="no",t.seamless="seamless",Ie("#"+l.containerID).append(t);var e="<style>body{ margin: 0; }</style>"+d(f.adContent);null!=f.adExtra&&(e="<script>window.isrv_extra='"+JSON.stringify(f.adExtra)+"'<\/script>"+e);v(Ie(t).get(0),e)};var v=function v(t,e){var n=t.contentWindow,r=n.document;r.open("text/html","replace"),i()<=9?(r.close(),n.contents=e,t.src='javascript:window["contents"]'):(r.write(e),r.close())},i=function i(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){e=navigator.userAgent;null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return 0<t?t:NaN},e=function e(){f.isScriptLoaded&&f.trigger(f.EVENTS.IMPRESSION)},g=function g(t){var e=t.beacon,n={};try{var r=e.match(/b=([\d]+)/);n.bannerId=r?r[1]:null}catch(a){}try{var i=e.match(/c=([\d]+)/);n.campaignId=i?i[1]:null}catch(a){}try{var o=e.match(/p=([\d]+)/);n.placementId=o?o[1]:null}catch(a){}return n.singleFrameAd=s(t.code),n};function m(t,e,n){c(t+" "+e),Tn.atomReport&&Tn.atomReport({name:t,msg:e},"is.video_webrv_logs",n)}function n(t){var e=a(t.custom),n={key:t.key?t.key:l.data.epomSiteId,format:"JSONP","cookie-policy":2,clientIp:l.data.ip,requestUrl:l.data.pageUrl};return u.length&&(n.excluded=u),t.excluded&&(n.excluded||(n.excluded=[]),n.excluded=n.excluded.concat(t.excluded)),function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(n,e),"https://adsrveys.com/ads-api-v3?"+function o(t){var e,n=[];for(var r in t)if(e=t[r],Array.isArray?Array.isArray(e):e instanceof Array)for(var i in t[r])n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r][i]));else n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.join("&")}(n)}function s(t){return/data-availability="true"/gi.test(t)}function r(n,r){var t=f.adContent.match(/<script type="availability"[^>]*>([\s\S]+?)<\/script>/gi),e=null!=t&&t.length&&0<t.length;if(n.singleFrameAd){var i;m("single_frame_availability_test","",n);var o=function o(t){t&&t.data&&t.data.isrv&&"availability"==t.data.event&&(i&&clearTimeout(i),m("single_frame_availability_test_result",t.data.status,n),window.removeEventListener("message",o,!1),f.adExtra=t.data.extra?t.data.extra:null,r&&r(t.data.status))};i=setTimeout(function(){m("single_frame_availability_test_result","to",n),window.removeEventListener("message",o,!1),r&&r(!1)},h),Ie("#epom-tag-container-outer").html("<div id='epom-tag-container-overlay'></div><div id='epom-tag-container'></div>"),window.addEventListener("message",o,!1),p()}else if(e){m("availability_test","",n);var a=t[0];a=a.replace('type="availability"',"");var s=function s(t){if(t&&t.data&&t.data.isrv&&"availability"==t.data.event){clearTimeout(u),m("availability_test_result",t.data.status,n),window.removeEventListener("message",s,!1);var e=document.getElementById("epom-tag-container-iframe-availability");e&&e.parentNode.removeChild(e),!0===t.data.status&&(f.adExtra=t.data.extra?t.data.extra:null,f.adExtra&&0<f.adExtra.validForSec&&(f.expireAdHandler=setTimeout(function(){!function t(){f.trigger(f.EVENTS.AD_EXPIRED),f.adContent=null,y[l.data.appKey]=null,f.adExtra=null}()},1e3*f.adExtra.validForSec))),r&&r(t.data.status)}},u=setTimeout(function(){m("availability_test_result","to",n),window.removeEventListener("message",s,!1);var t=document.getElementById("epom-tag-container-iframe-availability");t&&t.parentNode.removeChild(t),r&&r(!1)},h);window.addEventListener("message",s,!1),function c(t){var e=document.createElement("iframe");e.id="epom-tag-container-iframe-availability",e.width=1,e.height=1,e.frameBorder=0,e.scrolling="no",e.style.display="none",e.seamless="seamless",e.sandbox="allow-forms allow-pointer-lock allow-scripts allow-same-origin",Ie("body").append(e),v(Ie(e).get(0),d(t))}(a)}else r&&r(!0)}this.addListener(this.EVENTS.SCRIPT_LOADED,function(){t&&(t=!1,f.play())}),this.setDataParam=function(t,e){l&&l.data&&(l.data[t]=e)},this.play=function(){if(!function t(){f.expireAdHandler&&(clearTimeout(f.expireAdHandler),f.expireAdHandler=null)}(),y[l.data.appKey]=null,f.adContent){if(s(f.adContent))Ie("iframe").get().contentWindow.postMessage({isrv:!0,event:"startAd"},window.location.origin);else p();f.isScriptLoaded=!0,e()}else f.trigger(f.EVENTS.IMPRESSION_ERR)},this.isAdAvailable=function(i,o,a){var s=this;o?o++:(s.adContent=null,s.adExtra=null,s.expireAdHandler=null,o=1);var t=y[l.data.appKey];if(t){s.adContent=t.data.code,s.adExtra=t.adExtra,s.adExtra.singleFrameAd&&(Ie("#epom-tag-container-outer").html("<div id='epom-tag-container-overlay'></div><div id='epom-tag-container'></div>"),p());var e=g(t.data);i&&i(!0,e,s.adExtra)}else c("epom test, is ad available?"),Re.jsonp(n(a||{}),{error:function(t,e,n){c({message:"epom test error",error:n.message||n}),o<10?s.isAdAvailable(i,o,a):(c("No ad available - error"),i&&i(!1,{reason:[s.name,function r(t){return t&&t.message&&-1<t.message.indexOf("not called")?"cb_not_called":t}(n),t.status].join("_")}))},success:function(e){if(e&&e.success&&e.code){var n=g(e);s.adContent=e.code,r(n,function(t){t?(u.length=0,s.adExtra||(s.adExtra={}),s.adExtra.singleFrameAd=n.singleFrameAd,y[l.data.appKey]={data:e,adExtra:s.adExtra},i&&i(t,n,s.adExtra)):(u.push(n.bannerId),o<10?s.isAdAvailable(i,o,a):(c("No ad available"),i&&i(!1)))})}else c("epom test, no ad"),c("No ad available"),i&&i(!1)}})}};w.prototype=Object.create(o.prototype);var xe=function xe(t){var n,r=new IronEventManager,e={url:t.url,containerID:t.containerID,data:t.data};switch(t.player){case xe.PLAYER_STREAMRAIL:n=new Streamrail(e);break;case xe.PLAYER_EPOM:n=new w(e)}return n&&(n.addListener(n.EVENTS.IMPRESSION,function(){r.trigger(n.EVENTS.IMPRESSION)}),n.addListener(n.EVENTS.CLICK,function(){r.trigger(n.EVENTS.CLICK)}),n.addListener(n.EVENTS.COMPLETION,function(){r.trigger(n.EVENTS.COMPLETION)}),n.addListener(n.EVENTS.AD_EXPIRED,function(){r.trigger(n.EVENTS.AD_EXPIRED)}),n.addListener(n.EVENTS.VIDEO_STARTED,function(){r.trigger(n.EVENTS.VIDEO_STARTED)}),n.addListener(n.EVENTS.VIDEO_COMPLETED,function(){r.trigger(n.EVENTS.VIDEO_COMPLETED)}),n.addListener(n.EVENTS.NO_CAMPAIGNS,function(){r.trigger(n.EVENTS.NO_CAMPAIGNS)}),n.addListener(n.EVENTS.AD_BLOCK,function(){r.trigger(n.EVENTS.AD_BLOCK)}),n.addListener(n.EVENTS.IMPRESSION_ERR,function(){r.trigger(n.EVENTS.IMPRESSION_ERR)})),{getPlayer:function(){return n},addListener:function(t,e){r.addListener(t,function(){e()})},play:function(){n.play()},isAdAvailable:function(t,e){n.isAdAvailable(t,null,e)},setDataParam:function(t,e){n.setDataParam(t,e)},getPlayerName:function(){return n?n.getName():""}}};xe.PLAYER_EPOM="epom",xe.PLAYER_STREAMRAIL="streamrail";var Ce,Oe,Pe,Le,Me,Ne,Ue,De,Be,je,He,ze,Fe,Ve,Ye,qe,Ge,Ke,Xe,Je,We,Ze,Qe,$e,tn,en,nn,rn,on,an,sn,un,cn,ln,fn,hn,dn,pn,vn,gn,mn,yn,wn,_n,bn,En,Sn,e,n,r,Tn=(Pe="ins",Le={SESSION_CREATE:ke.API_PATH+"/api/createSession",IMPRESSION_CREATE:ke.API_PATH+"/api/createImpression",IMPRESSION:ke.API_PATH+"/api/reportImpression",COOKIE_SYNC:"https://cs.rtb-seller.com/list",EPOM_API:"../../../https@adsrveys.com/ads-api-v3"},Me="is.video_webrv_logs",Ne="brands_Webrv_quick_logs",Ue="error",De="error_usage",Be="event_error",je="session_req",He="session",ze="click_event",Fe="impr_req",Ve="impr",Ye="impr_passback",qe="impr_timeout",Ge="impr_close",Ke="attribution",Xe="no_ad_available",Je="ad_available",Ze="ad_expired",Qe="no_fill_limit",$e="no_fill_limit_clear",tn="pusher",en="pusher_cleared",nn="ad_extra_campaign_after_error",rn="ad_backfill_campaign_after_error",on="ad_backfill_response",an="ad_backfill_NO_INSTANCE",sn="ad_available_timing",un="ad_backfill_timing",cn=0,ln=-1,fn=-2,dn=2,vn="sess_rejected",gn="no_ids",mn="impr_rejected",yn="impr_error",wn="sess_no_fill",bn=_n="Setup problem. Please contact your account manager.",{TEST_DEBUG:Sn=!(En={ERROR_MESSAGE:"We're out of offers to show in your region<br>Please try again later<br><br>Plenty of more offers are waiting for you just a click away"}),EVENTS:{INIT_ERROR:(pn={READY:"ready",OPEN:"open",CLOSE:"close",IMPRESSION:"impression",CLICK:"click",NO_CAMPAIGNS:"no_campaigns",AD_BLOCK:We="ad_block",COMPLETION:"completion",RESIZE:"resize",VIDEO_STARTED:"videoStarted",VIDEO_COMPLETED:"videoCompleted",INIT_ERROR:"initError",AD_EXPIRED:"adExpired",IMPRESSION_ERR:"impression_err"}).INIT_ERROR,READY:pn.READY,OPEN:pn.OPEN,RESIZE:pn.RESIZE,CLOSE:pn.CLOSE,IMPRESSION:pn.IMPRESSION,NO_CAMPAIGNS:pn.NO_CAMPAIGNS,AD_BLOCK:pn.AD_BLOCK,COMPLETION:pn.COMPLETION,VIDEO_COMPLETE:pn.VIDEO_COMPLETED},getInstance:function(t){var e=t.publisherId,n=t.applicationKey,r=t.applicationUserId,i=t.storeId,o=t.itemName,a=t.itemCount,s=t.itemTimestamp,u=t.itemSignature,c=t.pubCustomParams,l=t.containerWidth,f=t.containerHeight,h=t.containerId,d=t.pageUrl,p=t.closeButtonShowTime,v=t.rewardId,g=t.liveModeTest;Oe=t.privacy;var m=t.allowFullscreen,y=t.reload,w=(t.developerMode,{title:t.title,rewardTitle:t.rewardTitle,enforceTitle:t.enforceTitle,skipText:t.skipText});if(Ie(function(){var t=ke.STATIC_PATH+"/style.css",e=Ie("head").get(),r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=t,e.appendChild(r),r.onload=function(){!function n(t){try{if(t.sheet.cssRules&&!t.sheet.cssRules.length)return;Sn=!0}catch(e){}}(r)}}),n&&""!=n&&r&&""!=r)return!y&&Ce||(Ce&&(Ce.destroy(),Ce=null),Ce=_(e,n,r,o,a,s,u,c,0,w,l,f,h,d,p,m,v,g,Oe,i)),Ce}});function An(){try{return window.localStorage}catch(t){return}}function _(t,e,n,r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,w){var _=t,b=e,E=n,S=w,T=g,A=!0===m&&"1",k=r,I=i,R=o,x=a,C=s,O=c,P=h,L={},M=d,N=y,U=v,D=null,B=null,j=null,H=null,z=null,F=null,V=null,Y=null,q=null,G=null,K=null,X=null,J={},W=null,Z=0,Q=0,$=0,tt=!1,et=!1,nt=null,rt=null,it=null,ot=null,at={},st=(new Date).getTime(),ut=null,ct=null,lt=null,ft=!0,ht=function ht(){if(!et&&Tt&&tt){var t;if(et=!0,null!=Et){var e=new Date-Et.getTime();t=Math.floor(e/1e3)}Wt({name:ze,msg:t},Me)}};function dt(){return(((new Date).getTime()-st)/1e3).toFixed(2)}function pt(){st=(new Date).getTime()}if(null!=l&&500<=l-0&&l-0<=1920&&null!=f&&280<=f-0&&f-0<=1080)var vt=l,gt=f-51;else vt=704,gt=396;var mt=new IronEventManager,yt=null,wt=null,_t=null,bt=cn,Et=null,St=!1,Tt=!1,At=!1,kt=!1,It=!1,Rt=null,xt=null,Ct=null,Ot=null,Pt=null,Lt=null,Mt=!1,Nt=0,Ut=null,Dt={};null!=k&&null!=I&&null!=R&&null!=x&&(It=!0);var Bt={endpoint:ke.ATOM_ENDPOINT,auth:ke.ATOM_AUTH,flushInterval:10,bulkLen:50,bulkSize:20},jt=new IronSourceAtom.Tracker(Bt),Ht=function Ht(t){ke.DEBUG&&window.console&&window.console.log&&window.console.log(t)},zt=function zt(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var e=Gt(ke.PREF_EVENT_ID);return null!=e&&""!=e||(e=t()+t(),qt(ke.PREF_EVENT_ID,e)),e+"-"+t()+t()},Ft=function Ft(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},Vt=function Vt(){var t=Gt(ke.PREF_DEVICE_ID);return(null==t||""==t)&&(t=Ft(),qt(ke.PREF_DEVICE_ID,t)),t},Yt=function Yt(){var e=function e(t){return t<10&&(t="0"+t),t},t=new Date;return[t.getFullYear(),e(t.getMonth()+1),e(t.getDate())].join("-")+" "+[e(t.getHours()),e(t.getMinutes()),e(t.getSeconds())].join(":")},qt=function qt(t,e){try{var n=An();n&&(n[ke.PREF_PREFIX+"_"+t]=e)}catch(r){}},Gt=function Gt(t){try{if(An())return window.localStorage[ke.PREF_PREFIX+"_"+t]}catch(e){}return null},Kt=function Kt(){try{return decodeURIComponent(M||window.location.hostname+window.location.pathname).substr(0,500)}catch(t){return""}},Xt=function Xt(){if(window.navigator&&window.navigator.language)return window.navigator.language.split("-")[0]},Jt=function Jt(t){var e=Xt();if(!Dt||!e)return t;var n=Dt[t]&&Dt[t][e];return n||t},Wt=function Wt(t,e,n){var r=e||Me;function i(t){return n&&n[t]||Ot&&Ot[t]||null}null==t&&(t={}),null==n&&(n={}),t.user_id=E,t.page_url=t.name===je?Kt():"",t.app_name=H,t.app_key=b,t.device_id=B,t.session_id=V,t.impression_id=Y,t.banner_id=i("bannerId")||xt,t.campaign_id=i("campaignId"),t.placement_id=i("placementId"),t.advertiser_id=Ct,t.sdk_version=ke.SDK_VER,t.browser=G,t.os=K,t.event_id=j+""+Q,t.datetime=Yt(),Q++,N&&(t.us_privacy=N),Ht(t),ke.LOG_ATOM&&(jt.track(r,t),jt.flush())},Zt=function Zt(t){var e={};e.impid=Y,e.time_stamp="now",e.component=(ke.DEBUG?"DEBUG|":"")+t.event;var n=t.data||"";"string"!=typeof n&&(n=JSON.stringify(n)),e.message=n,Ht(e),N&&(e.us_privacy=N),ke.LOG_ATOM&&(jt.track(Ne,e),jt.flush())};Tn.atomReport=Wt,Tn.atomDebugReport=Zt;var Qt=function Qt(){function t(t){return Ot&&Ot[t]||null}return{pub_id:_,app_key:b,user_id:E,device_id:B,session_id:V,impression_id:Y,sdk_version:ke.SDK_VER,campaign_id:t("campaignId"),placement_id:t("placementId")}},$t=function $t(){var t=Qt();Re.send(Le.IMPRESSION,t,function(){})},te=function te(n){var t=Qt();lt&&(t.cp=JSON.stringify(lt),lt=null),Re.send(Le.IMPRESSION_CREATE,t,function(t,e){t||null==e||null==e.impression_id?n(!0):(ot=e.backfillBannerId,Y=e.impression_id,e.rewardName&&e.rewardCount&&(J.name=e.rewardName,J.count=e.rewardCount),n(!1))})},ee=function ee(i){if(Tt=et=tt=!1,!se())return Wt({name:Ue,msg:wn},Me),!1;var t={};W&&(t.custom={adUnit:W}),nt.isAdAvailable(function(t,e,n){if(tt=t)Ot=e,Pt=n,Wt({name:sn,msg:dt()},Me),Wt({name:Je},Me),Ht("Ready"),Tt=!0,St&&At&&(Ce&&Ce.show(),At=!1),mt.trigger(pn.READY);else{Pt=Ot=null,Tt=At=!1,mt.trigger(pn.NO_CAMPAIGNS);var r=e&&e.reason;Wt({name:r?Ue:Xe,msg:r||""},Me)}i&&i(t)},t)},ne=function ne(){_e(),ve();var t={};switch(Nt){case 0:t.excluded=[xt],Wt({name:nn},Me),Ht("Trying fetch other campaign.");break;case 1:if(!ot)return void ge();t.custom={adserving_force_banner_id:ot},Wt({name:rn},Me),Ht("Trying fetch backfill campaign.");break;default:return void ge()}nt.isAdAvailable(function(t,e,n){if(Nt++,t)return Wt({name:un,msg:dt()},Me),Wt({name:on,msg:Nt+"_true"},Me),Ot=e,Pt=n,Ce?(Ie("#epom-tag-container-outer").html("<div id='epom-tag-container-overlay'></div><div id='epom-tag-container'></div>"),me(0,0,!0),nt.play(),void(bt=cn)):void Wt({name:an},Me);Wt({name:on,msg:Nt+"_false"},Me),Nt<2?ne():ge()},t)},re=function re(){Ht("Refresh ad"),pt(),nt.isAdAvailable(function(t,e,n){Ot=e,Pt=n,Wt({name:t?Je:Xe},Me),Ht("New ad loaded? "+t)})},ie=function ie(){var t=Qt();T&&(t.reward_id=T),Re.send(Le.SESSION_CREATE,t,function(t,e){if(t)Wt({name:Ue,msg:vn+(t.message||t)},Me),mt.trigger(pn.INIT_ERROR),Ht("error "+_n+" "+(t.message||t));else{if(Dt=e.ctaTranslations||{},V=e.session_id,q=e.ip,G=e.browser,K=e.os,X=e.cc,H=e.app_name,Z=A||e.tt,M=M||e.page_url,D=e.publisher_id,z=e.epom_pub_id,F=e.epom_site_id,Y=e.impression_id,J.currency=e.currency_name,W=e.adUnit,It?(J.name=k,J.count=I):(J.name=e.reward_name,J.count=e.reward_count),Tn.TEST_DEBUG&&Tn.test&&(z=Tn.test.epomPubId||z,F=Tn.test.epomSiteId||F,H=Tn.test.appName||H),!z||!F)return mt.trigger(pn.INIT_ERROR),Wt({name:Ue,msg:gn},Me),void Ht("error "+bn);e.style&&ce(e.style),e.params&&le(e.params),oe(),function a(e,t){function n(t){e&&e(t),e=null}var r=new XMLHttpRequest;function i(){t?n(!0):a(e,!0)}r.onreadystatechange=function(){if(4===r.readyState){if(200===r.status||204===r.status)return n(!1);t?n(!0):a(e,!0)}},r.addEventListener("error",i),r.addEventListener("abort",i);var o=Le.EPOM_API;Oe&&(o+="?us_privacy="+Oe),r.open("GET",o,!0),r.send(null)}(function(t){t?(Mt=!0,Wt({name:We},Me),mt.trigger(pn.AD_BLOCK)):(pt(),ee())}),Wt({name:He},Me)}}),Wt({name:je},Me)},oe=function oe(){(nt=new xe({player:xe.PLAYER_EPOM,containerID:"epom-tag-container",data:{pubId:_,appKey:b,appName:H,userId:E,storeId:S,pageUrl:M,sessionId:V,impressionId:Y,deviceId:B,sdkVersion:ke.SDK_VER,ip:q,browser:G,os:K,cc:X,tt:Z,epomPubId:z,epomSiteId:F,rewardName:k,rewardCount:I,rewardId:T,rewardTimeStamp:R,rewardSignature:x,impressionCustomParams:C,mobilePublisherId:D,containerWidth:vt,containerHeight:gt,adUnit:W}})).addListener(pn.IMPRESSION,function(){mt.trigger(pn.IMPRESSION)}),nt.addListener(pn.COMPLETION,function(){mt.trigger(pn.COMPLETION)}),nt.addListener(pn.VIDEO_STARTED,function(){}),nt.addListener(pn.VIDEO_COMPLETED,function(){}),nt.addListener(pn.NO_CAMPAIGNS,function(){mt.trigger(pn.NO_CAMPAIGNS)}),nt.addListener(pn.AD_EXPIRED,function(){Ht("Ad expired"),Wt({name:Ze},Me),re()}),nt.addListener(pn.IMPRESSION_ERR,function(){clearTimeout(yt),bt=ln,Wt({name:Ue,msg:yn},Me),ge()})},ae=function ae(){if(ke.NO_FILL_COUNT<=++$){var t=An();t&&(Ht("Set no fill timestamp"),t.setItem(ke.LOCAL_STORAGE_NO_FILL,(new Date).getTime()),mt.trigger(pn.NO_CAMPAIGNS),Wt({name:Qe},Me))}},se=function se(){var t=An();if(t){var e=t.getItem(ke.LOCAL_STORAGE_NO_FILL);if(e){var n=((new Date).getTime()-e)/1e3/60;return ke.NO_FILL_MINUTES<n?(t.removeItem(ke.LOCAL_STORAGE_NO_FILL),Ht("Remove no fill timestamp"),Wt({name:$e},Me),!0):(mt.trigger(pn.NO_CAMPAIGNS),!1)}}return!0},ue=function ue(t){if(t&&t.data&&t.data.isrv&&"availability"!=t.data.event){clearTimeout(yt),Ht(t.data);var e=t.data.event,n=t.data.bannerTxt;Rt=t.data.rewardPixels,xt=t.data.banner,Ct=t.data.advertiser;var r=t.data.containerWidth,i=t.data.containerHeight;if(ct=t.data.allowFullscreen,(r&&i||be())&&me(r,i),"impression"==e){bt=hn,Ie(".ironrv-container #epom-tag-container-overlay").hide(),$t();var o=new Date-Et.getTime(),a=Math.floor(o/1e3);Wt({name:Ve,msg:a},Me),O.enforceTitle||(fe(!1,n),ft=!0)}else if("ad-passback"==e){bt=ln;o=new Date-Et.getTime(),a=Math.floor(o/1e3);Wt({name:Ye,msg:a},Me),ae(),ne()}else if("attribution"==e){o=new Date-Et.getTime(),a=Math.floor(o/1e3);Wt({name:Ke,msg:a},Me)}else if("ad-error"==e){var s=t.data.msg;Ht(t),Wt({name:Ue,msg:s},Me)}else if("hide-close-btn"==e)t.data.hideCloseBtn&&(Ie(".ironrv-container .ironrv-close").hide(),clearTimeout(_t));else if("schedule-close-btn"==e){if(!t.data.timeout)return;Ee(t.data.timeout)}else"complete"==e?t.data.showCloseBtn&&_e():"onclose"==e?pe():"add-tooltip"==e?he(t.data.tooltip):"remove-tooltip"==e?de(t.data.tooltipType):(Ht(t),Wt({name:Be,msg:e},Me))}},ce=function ce(e){function t(t,e){if(t.css)if(t.restrictions){var n=t.restrictions.maxApplyWidth;n&&vt<=n&&r(Ie(e),t.css)}else r(Ie(e),t.css)}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&t.css(n,e[n])}e.src&&Ie(function(){var t='<link rel="stylesheet" type="text/css" href="'+e.src+'">';Ie("head").append(t)}),e.container&&e.container.css&&(L=e.container.css,r(Ie(".ironrv-container"),e.container.css)),e.header&&(e.header.css&&r(Ie(".ironrv-container-header"),e.header.css),Ie(".ironrv-container-header.complete").css("background-color","#f8136f")),e.footer&&e.footer.css&&r(Ie(".ironrv-container-header"),e.header.css),W!==Pe&&(e.logo&&Ie(".ironrv-title-logo").css("background-image","url('"+e.logo.src+"')"),e.closeBtn&&t(e.closeBtn,".ironrv-close"),e.ironrvTitle&&t(e.ironrvTitle,".ironrv-title"))},le=function le(t){t.closeTimeout&&(it=Number(t.closeTimeout)),t.fullscreen&&(ut=Boolean(t.fullscreen))},fe=function fe(t,e,n){if(W!==Pe)if(t){Ie(".ironrv-container-header").addClass("complete");var r=O.rewardTitle?O.rewardTitle:"You can now claim your reward!";Ie(".ironrv-title").html('<span class="ironrv-complete-text">'+Jt(r)+"</span>")}else{if(Ie(".ironrv-container-header").removeClass("complete"),n)return void Ie(".ironrv-title").html("");var i=""!=J.count&&""!=J.count?J.count.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):"";if(null==e||""==e)if(O.title){r=O.title;r=(r=Jt(r)).replace(/{REWARD}/gi,"<b>"+i+"</b> "+J.name),Ie(".ironrv-title").html(r)}else Ie(".ironrv-title").html("Complete the offer and earn <b>"+i+"</b> "+J.name);else e=(e=Jt(e)).replace(/{REWARD}/gi,"<b>"+i+"</b> "+J.name),Ie(".ironrv-title").html(e),Ie(".ironrv-title").hide(),Ie(".ironrv-title").fadeIn()}},he=function he(t){if(t&&t.text&&t.type){var e;switch(t.location){case"top-left":e="ironv-tooltip-top-left";break;case"top-right":e="ironv-tooltip-top-right";break;case"middle-left":e="ironv-tooltip-middle-left";break;case"middle-right":e="ironv-tooltip-middle-right";break;case"bottom-left":e="ironv-tooltip-bottom-left";break;case"bottom-right":e="ironv-tooltip-bottom-right";break;default:e="ironv-tooltip-top-left"}var n=Ie('<div class="ironv-tooltip '+e+'">'+t.text+"</div>");Ie(".ironrv-container").append(n.get()),n.fadeIn(),at[t.type]=n,t.duration&&setTimeout(function(){n.fadeOut(),n.remove(),delete at[t.type]},1e3*t.duration)}},de=function de(t){if(t){var e=at[t];e&&(e.fadeOut(),e.remove(),delete at[t])}},pe=function pe(){if(!function n(){P||(Ie(".ironrv-container").css("top","50px"),Ie(".ironrv-container").css("margin-left","-352px"),Ie(".ironrv-container").css("width","704px"),Ie(".ironrv-container").removeClass("ironrv-fullscreen"));Ie("#epom-tag-container-outer").css("height",null),Ie("#epom-tag-container-outer").css("width",null)}(),clearTimeout(yt),kt){if(Ie(".ironrv-bg").fadeOut(),Ie(".ironrv-container").fadeOut(),Ie("#epom-tag-container-outer").html("<div id='epom-tag-container-overlay'></div><div id='epom-tag-container'></div>"),Ie("#title-wrapper").html(""),kt=!1,mt.trigger(pn.CLOSE),null!=Et){var t=new Date-Et.getTime(),e=Math.floor(t/1e3);Wt({name:Ge+"_"+bt,msg:e},Me)}Ct=xt=null,Y=null,tt=!1,pt(),te(function(t){t?Wt({name:Ue,msg:mn},Me):(nt.setDataParam("impressionId",Y),ee())})}},ve=function ve(){for(var t="",e=1;e<=5;e++)t+='<div class="ironrv-r ironrv-r0'+e+'"></div>';Ie(".ironrv-container #epom-tag-container-overlay").html('<div class="ironrv-loader"><div class="ironrv-loader-wrapper">'+t+'</div><div class="ironrv-loading-texts"><div class="ironrv-text ironrv-text01">Loading Reward...</div><div class="ironrv-text ironrv-text02">Looking For An Offer...</div><div class="ironrv-text ironrv-text03">Please Wait...</div></div></div>'),Ie(".ironrv-container #epom-tag-container-overlay").show()},ge=function ge(){Ie(".ironrv-container #epom-tag-container").html(""),Ie(".ironrv-container #epom-tag-container-overlay").html("<div class='ironrv-error'><span class='smiley-sad'>:(</span><br><br><br><br>"+En.ERROR_MESSAGE+"</div>"),Ie(".ironrv-container #epom-tag-container-overlay").show(),_e()},me=function me(t,e,n){t=t||vt,e=e||gt,n&&(t=704,e=396);var r=Ie.height();if(!P){if(!L.top){var i=50;r<e&&(i=0),Ie(".ironrv-container").css("top",i+"px")}250<=t&&Ie(".ironrv-container").css("margin-left",t/2*-1+"px")}if(250<=t&&(Ie(".ironrv-container").css("width",t+"px"),Ie("#epom-tag-container-iframe").css("width",t+"px")),250<=e&&(Ie("#epom-tag-container-outer").css("height",e+"px"),Ie("#epom-tag-container-iframe").css("height",e+"px")),be()&&!n){var o=Ie(".ironrv-bg");t=o.width(),e=o.height(),function s(){Ie(".ironrv-container").css("top",null),Ie(".ironrv-container").css("margin-left",null),Ie(".ironrv-container").css("width",null),Ie(".ironrv-container").addClass("ironrv-fullscreen"),P||(Ie("#epom-tag-container-iframe").css("height","100%"),Ie("#epom-tag-container-iframe").css("width","100%"),Ie("#epom-tag-container-outer").css("height","100%"),Ie("#epom-tag-container-outer").css("width","100%"))}()}var a={width:t,height:e};mt.trigger(pn.RESIZE,[a])},ye=function ye(){var t;t={iframeMouseOver:!1},window.addEventListener("blur",function(){t.iframeMouseOver&&ht()}),window.focus(),Ie(".ironrv-container #epom-tag-container").on("mouseover","iframe",function(){t.iframeMouseOver=!0}),Ie(".ironrv-container #epom-tag-container").on("mouseout","iframe",function(){t.iframeMouseOver=!1})};Ie(function(){var t=Ie("div.ironrv-bg");t.length&&0<t.length&&(Ie("div.ironrv-bg").remove(),Ie("div.ironrv-container").remove()),Ie("body").append('<div class="ironrv-bg"></div><div class="ironrv-container" style="display:none"><div id="title-wrapper"></div><div id="epom-tag-container-outer"><div id="epom-tag-container-overlay"></div><div id="epom-tag-container"></div></div><div class="ironrv-container-footer"><div class="ironrv-footer"></div></div></div></div>'),P&&Ie("#"+P).append(Ie(".ironrv-container").get()),St=!0}),B=Vt(),j=zt(),N&&Re.injectParams(N),window.addEventListener("message",ue,!1),ie();var we=null;function _e(){we&&(clearInterval(we),we=null),W===Pe?(Ie(".ironrv-container .ironrv-close").addClass("ironrv-close-ins-cross-btn"),Ie(".ironrv-container .ironrv-close").html("x"),Ie(".ironrv-container .ironrv-close").click(pe)):Ie(".ironrv-container .ironrv-close").fadeIn()}function be(){return ct&&U&&ut}function Ee(t){clearTimeout(_t),W!==Pe?(Ie(".ironrv-container .ironrv-close").hide(),_t=setTimeout(function(){Ie(".ironrv-container .ironrv-close").fadeIn()},1e3*t)):function e(t){we&&clearInterval(we),Ut=t,Ie(".ironrv-container .ironrv-close").unbind("click",pe),Ie(".ironrv-container .ironrv-close").html(Ut),Ie(".ironrv-container .ironrv-close").fadeIn(),we=setInterval(function(){if(0<Ut)return Ie(".ironrv-container .ironrv-close").html(Ut),void Ut--;Ut=0,clearInterval(we),we=null,_e()},1e3)}(t)}var Se=function Se(){if(O.skipText)var t="Skip",e="skip";else t="X",e="";var n=W!==Pe,r='<div class="ironrv-close '+e+(n?"":"ironrv-close-inner")+'">'+t+"</div>",i='<div class="ironrv-container-header"><div class="ironrv-title-logo"></div><div class="ironrv-title"></div>'+r+"</div>";Ie("#title-wrapper").append(n?i:r),n&&Ie(".ironrv-container .ironrv-close").click(pe)},Te=function Te(){if(!kt){Se(),!T||T&&ft?fe(!1):fe(!1,null,!0),ve(),Ct=xt=Rt=null;var t=W===Pe?ke.CLOSE_BUTTON_TIMEOUT_INTERSTITIAL:ke.CLOSE_BUTTON_TIMEOUT;if(0<p&&p<=30&&(t=p),0<it&&(t=it),t&&Ee(t),Ie(".ironrv-container").removeClass("open"),Ie(".ironrv-container .ironrv-close").removeClass("ironrv-close-ins-cross-btn"),ye(),P){if(Ie(".ironrv-container").addClass("custom-container"),null==l||null==f){var e=Ie("#"+P).width(),n=Ie("#"+P).height();0!=e&&0!=n&&(vt=e,gt=n-51)}me(),Ie(".ironrv-container").show("inline-block")}else Ie(".ironrv-bg").show(),Ie(".ironrv-container").show();Ie(".ironrv-container").addClass("open"),setTimeout(function(){me()},1),Tn.TEST_DEBUG&&Tn.test&&(z=Tn.test.epomPubId,F=Tn.test.epomSiteId,H=Tn.test.appName),kt=!0}},Ae=function Ae(){if(kt||At)Wt({name:De,msg:"wrong_usage_show"},Me);else{if(Nt=0,!Tt||!tt)return Ht("Not Ready"),Wt({name:De,msg:"not_ready"},Me),void(At=!0);if(!Sn){var t="<style>"+ke.BASE_STYLES+"</style>";Ie("head").append(t)}Te(),te(function(t){if(t)return Wt({name:Ue,msg:mn},Me),void ge();if(null==rt){var e=(rt=new Pusher("df761e5b65457f1a1cb1",{encrypted:!0})).subscribe(V),n=null;e.bind("complete",function(t){var e;if(null!=Et){var n=new Date-Et.getTime();e=Math.floor(n/1e3)}bt=dn,Wt({name:tn,msg:e},Me),mt.trigger(pn.COMPLETION),_t&&clearTimeout(_t),fe(!0),Tn.TEST_DEBUG&&t.params&&Tn.test&&Tn.test.onComplete&&Tn.test.onComplete.apply(this,new Array(t.params));try{if(Rt&&Array.isArray(Rt))for(var r=0;r<Rt.length;r++)Re.pixel(Rt[r])}catch(i){}_e()}),Pt&&Pt.uniqueId&&(Lt=Pt.uniqueId,(n=rt.subscribe(String(Lt))).bind("server-complete",function(){Ie("iframe").get().contentWindow.postMessage({isrv:!0,event:"server-complete"},window.location.origin)})),wt=setTimeout(function(){null!==rt&&(null!==e&&e.unbind(),null!==n&&n.unbind(),rt.unsubscribe(V),Lt&&rt.unsubscribe(Lt),rt=null),Wt({name:en},Me)},1e3*ke.PUSHER_CLEAR_TIMEOUT)}Et=new Date,yt=setTimeout(function(){null!==rt&&(null!==e&&e.unbind(),null!==n&&n.unbind(),rt.unsubscribe(V),Lt&&rt.unsubscribe(Lt),function t(){wt&&clearTimeout(wt)}(),rt=null),bt=fn,ge(),Wt({name:qe},Me)},1e3*ke.OFFER_TIMEOUT),Wt({name:Fe},Me),nt.play(),bt=cn,mt.trigger(pn.OPEN)})}};return{updateParams:function(t){C=t;var e=lt&&lt.reward_id;lt=t,e&&(lt.reward_id=e),nt&&nt.setDataParam("impressionCustomParams",C)},register:function(){},isReady:function(){return Tt},isVisible:function(){return kt},getRewardCount:function(){return J?J.count:""},updateRewardId:function(t){t&&t!==T&&(T=t,ft=!1,nt.setDataParam("rewardId",t),(lt=lt||{}).reward_id=t)},updateAppKey:function(t){t&&t!==b&&(b=t,nt.setDataParam("appKey",t),ie())},hide:function(){pe()},destroy:function(){for(var t in pn)mt.removeListener(pn[t]);window.removeEventListener("message",ue,!1)},showAdBlockMessage:function(){Mt&&(Ie(".adblock-message").length?Ie(".adblock-message").fadeIn():(Ie("body").append('<div class="adblock-message"><div class="adblock-message-container"><div class="adblock-message-icon"></div><div class="adblock-message-title">Ad-Blocker Detected</div><div class="adblock-message-desc">We\'ve detected that you\'re using an ad blocker software.<br>please disable it and refresh the page.<br> Thank You!</div><div class="ironrv-close">X</div></div></div>'),Ie(".adblock-message .ironrv-close").click(function(){Ie(".adblock-message").fadeOut()})))},show:Ae,addListener:function(t,e){mt.addListener(t,function(t){e&&e(t)})},removeListener:function(t,e){mt.removeListener(t,e)}}}return(hn=1)!=window.SSA_CORE_SDK_LOADED?(window.SSA_CORE_SDK_LOADED=!0,e=function(){var i,o,a=!1,s=!1;window.ironrv_created=!1,window.ironrv_appKey="",window.ironrv_userId="";var u=function u(){return o={bannerId:"27832",offerId:"7382",completed:!1,callToAction:"",rewards:""}},c=function c(){var t,e=null;if(window.ssa_json)for(t in window.ssa_json)t.toLowerCase().match("custom_")&&(null==e&&(e={}),e[t]=window.ssa_json[t]);return e};return{triggerIsReady:function(){i&&i.isReady()&&window.ssa_json.onCampaignsReady&&(o=u(),i&&(o.rewards=i.getRewardCount()),window.ssa_json.onCampaignsReady.apply(this,new Array([o])))},start:function(){window.ssa_json&&(window.ironrv_created&&window.ironrv_appKey==window.ssa_json.applicationKey&&window.ironrv_userId==window.ssa_json.applicationUserId||this.init(!0))},close:function(){},init:function(n){var r=this;Ie(function(){if(window.ssa_json){var t=window.ssa_json,e={publisherId:"1728328",applicationKey:t.applicationKey,applicationUserId:t.applicationUserId,itemName:t.itemName,itemCount:t.itemCount,itemTimestamp:t.timestamp,itemSignature:t.itemSignature,containerWidth:t.width,containerHeight:t.height,containerId:t.containerId,pageUrl:t.pageUrl,reload:!!n,developerMode:!1,title:t.title,rewardTitle:t.rewardTitle,skipText:t.skipText,pubCustomParams:c()};i=Tn.getInstance(e),window.ironrv_created=!0,i&&(window.ironrv_appKey=t.applicationKey,window.ironrv_userId=t.applicationUserId,i.addListener(Tn.EVENTS.READY,function(){window.ssa_json.onCampaignsReady&&(o=u(),i&&(o.rewards=i.getRewardCount()),window.ssa_json.onCampaignsReady.apply(this,new Array([o])))}),i.addListener(Tn.EVENTS.OPEN,function(){window.ssa_json.onCampaignOpen&&(i&&o&&(o.rewards=i.getRewardCount()),window.ssa_json.onCampaignOpen.apply(this,new Array(o)))}),i.addListener(Tn.EVENTS.CLOSE,function(){window.ssa_json.onCampaignClose&&window.ssa_json.onCampaignClose.apply(this,new Array(o))}),i.addListener(Tn.EVENTS.NO_CAMPAIGNS,function(){window.ssa_json.onCampaignsDone&&window.ssa_json.onCampaignsDone.apply(this,new Array([]))}),i.addListener(Tn.EVENTS.IMPRESSION,function(){}),i.addListener(Tn.EVENTS.AD_BLOCK,function(){window.ssa_json.onAdBlockDetected&&window.ssa_json.onAdBlockDetected.apply(this,new Array)}),i.addListener(Tn.EVENTS.COMPLETION,function(){window.ssa_json.onCampaignCompleted&&(o&&(o.completed=!0),i&&o&&(null==o.rewards||""==o.rewards)&&(o.rewards=i.getRewardCount()),window.ssa_json.onCampaignCompleted.apply(this,new Array(o)))}),a=!0,s&&r.BrandConnect.engage())}})},BrandConnect:{engage:function(){Ie(function(){a&&i?i.show():s=!0})},close:function(){},showAdBlockMessage:function(){i.showAdBlockMessage()}}}}(),(window.SSA_CORE_BACKUP=e).init()):(e=window.SSA_CORE_BACKUP)&&e.triggerIsReady(),window.SSA_CORE=e,n=this,r=function(){return i={},n.m=r=[function(t,e,n){"use strict";var r=n(1);t.exports=r["default"]},function(t,e,n){"use strict";var a=n(2),s=n(9),u=n(24),c=n(39),l=n(40),f=n(41),r=n(12),h=n(5),d=n(71),p=n(8),v=n(43),g=n(14),i=(m.ready=function(){m.isReady=!0;for(var t=0,e=m.instances.length;t<e;t++)m.instances[t].connect()},m.log=function(t){m.logToConsole&&window.console&&window.console.log&&window.console.log(t)},m.getClientFeatures=function(){return s.keys(s.filterObject({ws:a["default"].Transports.ws},function(t){return t.isSupported({})}))},m.prototype.channel=function(t){return this.channels.find(t)},m.prototype.allChannels=function(){return this.channels.all()},m.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new r.PeriodicTimer(6e4,function(){e.send(t)})}},m.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},m.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},m.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},m.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},m.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},m.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},m.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},m.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},m.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},m.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},m.prototype.shouldUseTLS=function(){return"https:"===a["default"].getProtocol()||!0===this.config.forceTLS||Boolean(this.config.encrypted)},m.instances=[],m.isReady=!1,m.logToConsole=!1,m.Runtime=a["default"],m.ScriptReceivers=a["default"].ScriptReceivers,m.DependenciesReceivers=a["default"].DependenciesReceivers,m.auth_callbacks=a["default"].auth_callbacks,m);function m(t,e){var r=this;if(function o(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(t),!(e=e||{}).cluster&&!e.wsHost&&!e.httpHost){var n=g["default"].buildLogSuffix("javascriptQuickStart");p["default"].warn("You should always specify a cluster when connecting. "+n)}this.key=t,this.config=s.extend(d.getGlobalConfig(),e.cluster?d.getClusterConfig(e.cluster):{},e),this.channels=v["default"].createChannels(),this.global_emitter=new u["default"],this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new c["default"](this.key,this.sessionID,{cluster:this.config.cluster,features:m.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:l["default"].INFO,version:h["default"].VERSION}),this.config.disableStats||(this.timelineSender=v["default"].createTimelineSender(this.timeline,{host:this.config.statsHost,path:"../../timeline/v2/"+a["default"].TimelineTransport.name}));var i=function i(t){var e=s.extend({},r.config,t);return f.build(a["default"].getDefaultStrategy(e),e)};this.connection=v["default"].createConnectionManager(this.key,s.extend({getStrategy:i,timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{useTLS:this.shouldUseTLS()})),this.connection.bind("connected",function(){r.subscribeAll(),r.timelineSender&&r.timelineSender.send(r.connection.isUsingTLS())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=r.channel(t.channel);n&&n.handleEvent(t.event,t.data)}e||r.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){r.channels.disconnect()}),this.connection.bind("disconnected",function(){r.channels.disconnect()}),this.connection.bind("error",function(t){p["default"].warn("Error",t)}),m.instances.push(this),this.timeline.info({instances:m.instances.length}),m.isReady&&this.connect()}e.__esModule=!0,e["default"]=i,a["default"].setup(i)},function(t,e,n){"use strict";var r=n(3),i=n(7),o=n(15),a=n(16),s=n(17),u=n(4),c=n(18),l=n(19),f=n(26),h=n(27),d=n(28),p=n(29),v={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u.ScriptReceivers,DependenciesReceivers:r.DependenciesReceivers,getDefaultStrategy:h["default"],Transports:l["default"],transportConnectionInitializer:d["default"],HTTPFactory:p["default"],TimelineTransport:c["default"],getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function n(){e.onDocumentBody(t.ready)};window.JSON?n():r.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:i["default"],jsonp:o["default"]}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new s["default"](t,e)},createScriptRequest:function(t){return new a["default"](t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return f.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e["default"]=v},function(t,e,n){"use strict";var r=n(4),i=n(5),o=n(6);e.DependenciesReceivers=new r.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new o["default"]({cdn_http:i["default"].cdn_http,cdn_https:i["default"].cdn_https,version:i["default"].VERSION,suffix:i["default"].dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var n=(r.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",i=!1,o=function o(){i||(t.apply(null,arguments),i=!0)};return{number:e,id:n,name:r,callback:this[e]=o}},r.prototype.remove=function(t){delete this[t.number]},r);function r(t,e){this.lastId=0,this.prefix=t,this.name=e}e.ScriptReceiverFactory=n,e.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";e.__esModule=!0,e["default"]={VERSION:"4.3.1",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"../../pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"../../pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"../../../js.pusher.com",cdn_https:"../../../https@js.pusher.com",dependency_suffix:".min"}},function(t,e,n){"use strict";var r=n(4),u=n(2),i=(o.prototype.load=function(i,t,e){var o=this;if(o.loading[i]&&0<o.loading[i].length)o.loading[i].push(e);else{o.loading[i]=[e];var a=u["default"].createScriptRequest(o.getPath(i,t)),s=o.receivers.create(function(t){if(o.receivers.remove(s),o.loading[i]){var e=o.loading[i];delete o.loading[i];for(var n=function n(t){t||a.cleanup()},r=0;r<e.length;r++)e[r](t,n)}});a.send(s)}},o.prototype.getRoot=function(t){var e=u["default"].getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},o.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},o);function o(t){this.options=t,this.receivers=t.receivers||r.ScriptReceivers,this.loading={}}e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";var i=n(8),o=n(2),a=n(14),s=function s(t,e,r){var s;for(var n in s=o["default"].createXHR(),s.open("POST",this.options.authEndpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)s.setRequestHeader(n,this.authOptions.headers[n]);return s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var t,e=!1;try{t=JSON.parse(s.responseText),e=!0}catch(t){r(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+s.responseText)}e&&r(!1,t)}else{var n=a["default"].buildLogSuffix("authenticationEndpoint");i["default"].warn("Couldn't retrieve authentication info. "+s.status+"Clients must be authenticated to join private or presence channels. "+n),r(!0,s.status)}},s.send(this.composeQuery(e)),s};e.__esModule=!0,e["default"]=s},function(t,e,n){"use strict";var r=n(9),i=n(1),o={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];i["default"].log&&i["default"].log(r.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=r.stringify.apply(this,arguments);i["default"].log?i["default"].log(n):window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n))}};e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";function o(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function r(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function i(t,n){var r={};return o(t,function(t,e){r[e]=n(t)}),r}function a(n,r){var i={};return o(n,function(t,e){(r&&r(t,e,n,i)||Boolean(t))&&(i[e]=t)}),i}function s(t){var n=[];return o(t,function(t,e){n.push([e,t])}),n}function u(t){return i(t,function(t){return"object"==_typeof(t)&&(t=l(t)),encodeURIComponent(f["default"](t.toString()))})}function c(o){var a=[],s=[];return function o(t,e){var n,r,i;switch(_typeof(t)){case"object":if(!t)return null;for(n=0;n<a.length;n+=1)if(a[n]===t)return{$ref:s[n]};if(a.push(t),s.push(e),"[object Array]"===Object.prototype.toString.apply(t))for(i=[],n=0;n<t.length;n+=1)i[n]=o(t[n],e+"["+n+"]");else for(r in i={},t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=o(t[r],e+"["+JSON.stringify(r)+"]"));return i;case"number":case"string":case"boolean":return t}}(o,"$")}function l(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(c(t))}}var f=n(10),h=n(11);e.extend=function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var i=e[r];for(var o in i)i[o]&&i[o].constructor&&i[o].constructor===Object?t[o]=d(t[o]||{},i[o]):t[o]=i[o]}return t},e.stringify=function p(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(l(arguments[e]));return t.join(" : ")},e.arrayIndexOf=function v(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},e.objectApply=o,e.keys=function g(t){var n=[];return o(t,function(t,e){n.push(e)}),n},e.values=function m(t){var e=[];return o(t,function(t){e.push(t)}),e},e.apply=function y(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)},e.map=r,e.mapObject=i,e.filter=function w(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n},e.filterObject=a,e.flatten=s,e.any=function _(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},e.all=function b(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},e.encodeParamsObject=u,e.buildQueryString=function E(t){return r(s(u(a(t,function(t){return void 0!==t}))),h["default"].method("join","=")).join("&")},e.decycleObject=c,e.safeJSONStringify=l},function(t,e,n){"use strict";e.__esModule=!0,e["default"]=function h(t){return f(c(t))};for(var r=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={},a=0,s=i.length;a<s;a++)o[i.charAt(a)]=a;var u=function u(t){var e=t.charCodeAt(0);return e<128?t:e<2048?r(192|e>>>6)+r(128|63&e):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|63&e)},c=function c(t){return t.replace(/[^\x00-\x7F]/g,u)},l=function l(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(1<t.length?t.charCodeAt(1):0)<<8|(2<t.length?t.charCodeAt(2):0);return[i.charAt(n>>>18),i.charAt(n>>>12&63),2<=e?"=":i.charAt(n>>>6&63),1<=e?"=":i.charAt(63&n)].join("")},f=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,l)}},function(t,e,n){"use strict";var r=n(12),i={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new r.OneOffTimer(0,t)},method:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,r.concat(arguments))}}};e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";function r(t){window.clearTimeout(t)}function i(t){window.clearInterval(t)}var o,a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(13),u=(o=s["default"],a(c,o),c);function c(t,e){o.call(this,setTimeout,r,t,function(t){return e(),null})}e.OneOffTimer=u;var l,f=(l=s["default"],a(h,l),h);function h(t,e){l.call(this,setInterval,i,t,function(t){return e(),t})}e.PeriodicTimer=f},function(t,e){"use strict";var n=(r.prototype.isRunning=function(){return null!==this.timer},r.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},r);function r(t,e,n,r){var i=this;this.clear=e,this.timer=t(function(){i.timer&&(i.timer=r(i.timer))},n)}e.__esModule=!0,e["default"]=n},function(t,e){"use strict";var n={baseUrl:"https:../../../https@pusher.com",urls:{authenticationEndpoint:{path:"../../docs/authenticating_users"},javascriptQuickStart:{path:"../../docs/javascript_quick_start"}}},r=function r(t){var e,r=n.urls[t];return r?(r.fullUrl?e=r.fullUrl:r.path&&(e=n.baseUrl+r.path),e?"See: "+e:""):""};e.__esModule=!0,e["default"]={buildLogSuffix:r}},function(t,e,n){"use strict";var s=n(8),u=function u(t,e,n){void 0!==this.authOptions.headers&&s["default"].warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var u=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var r=t.getDocument(),i=r.createElement("script");t.auth_callbacks[u]=function(t){n(!1,t)};var o="Pusher.auth_callbacks['"+u+"']";i.src=this.options.authEndpoint+"?callback="+encodeURIComponent(o)+"&"+this.composeQuery(e);var a=r.getElementsByTagName("head")[0]||r.documentElement;a.insertBefore(i,a.firstChild)};e.__esModule=!0,e["default"]=u},function(t,e){"use strict";var n=(r.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)},r.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},r);function r(t){this.src=t}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";var r=n(9),i=n(2),o=(a.prototype.send=function(t){if(!this.request){var e=r.buildQueryString(this.data),n=this.url+"/"+t.number+"?"+e;this.request=i["default"].createScriptRequest(n),this.request.send(t)}},a.prototype.cleanup=function(){this.request&&this.request.cleanup()},a);function a(t,e){this.url=t,this.data=e}e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";var s=n(2),u=n(4),r=function r(o,a){return function(t,n){var e="http"+(a?"s":"")+"://"+(o.host||o.options.host)+o.options.path,r=s["default"].createJSONPRequest(e,t),i=s["default"].ScriptReceivers.create(function(t,e){u.ScriptReceivers.remove(i),r.cleanup(),e&&e.host&&(o.host=e.host),n&&n(t,e)});r.send(i)}},i={name:"jsonp",getAgent:r};e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";var r=n(20),i=n(22),o=n(21),a=n(2),s=n(3),u=n(9),c=new i["default"]({file:"sockjs",urls:o.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:s.Dependencies.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),l={isSupported:function(t){return a["default"].isXDRSupported(t.useTLS)}},f=new i["default"](u.extend({},r.streamingConfiguration,l)),h=new i["default"](u.extend({},r.pollingConfiguration,l));r["default"].xdr_streaming=f,r["default"].xdr_polling=h,r["default"].sockjs=c,e.__esModule=!0,e["default"]=r["default"]},function(t,e,n){"use strict";var r=n(21),i=n(22),o=n(9),a=n(2),s=new i["default"]({urls:r.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a["default"].getWebSocketAPI())},isSupported:function(){return Boolean(a["default"].getWebSocketAPI())},getSocket:function(t){return a["default"].createWebSocket(t)}}),u={urls:r.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=o.extend({getSocket:function(t){return a["default"].HTTPFactory.createStreamingSocket(t)}},u),e.pollingConfiguration=o.extend({getSocket:function(t){return a["default"].HTTPFactory.createPollingSocket(t)}},u);var c={isSupported:function(){return a["default"].isXHRSupported()}},l={ws:s,xhr_streaming:new i["default"](o.extend({},e.streamingConfiguration,c)),xhr_polling:new i["default"](o.extend({},e.pollingConfiguration,c))};e.__esModule=!0,e["default"]=l},function(t,e,n){"use strict";function r(t,e,n){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+n}function i(t,e){return"../../app/"+t+("@protocol="+o["default"].PROTOCOL+"&client=js&version="+o["default"].VERSION+(e?"&"+e:""))}var o=n(5);e.ws={getInitial:function(t,e){return r("ws",e,(e.httpPath||"")+i(t,"flash=false"))}},e.http={getInitial:function(t,e){return r("http",e,(e.httpPath||"../../pusher")+i(t))}},e.sockjs={getInitial:function(t,e){return r("http",e,e.httpPath||"../../pusher")},getPath:function(t,e){return i(t)}}},function(t,e,n){"use strict";var i=n(23),r=(o.prototype.isSupported=function(t){return this.hooks.isSupported(t)},o.prototype.createConnection=function(t,e,n,r){return new i["default"](this.hooks,t,e,n,r)},o);function o(t){this.hooks=t}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var o,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(11),a=n(9),s=n(24),u=n(8),c=n(2),l=(o=s["default"],r(f,o),f.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},f.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},f.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return i["default"].defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),u["default"].debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},f.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},f.prototype.send=function(t){var e=this;return"open"===this.state&&(i["default"].defer(function(){e.socket&&e.socket.send(t)}),!0)},f.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},f.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},f.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},f.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},f.prototype.onMessage=function(t){this.emit("message",t)},f.prototype.onActivity=function(){this.emit("activity")},f.prototype.bindListeners=function(){var e=this;this.socket.onopen=function(){e.onOpen()},this.socket.onerror=function(t){e.onError(t)},this.socket.onclose=function(t){e.onClose(t)},this.socket.onmessage=function(t){e.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=function(){e.onActivity()})},f.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},f.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},f.prototype.buildTimelineMessage=function(t){return a.extend({cid:this.id},t)},f);function f(t,e,n,r,i){o.call(this),this.initialize=c["default"].transportConnectionInitializer,this.hooks=t,this.name=e,this.priority=n,this.key=r,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}e.__esModule=!0,e["default"]=l},function(t,e,n){"use strict";var r=n(9),i=n(25),o=(a.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},a.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},a.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},a.prototype.unbind_global=function(e){return this.global_callbacks=e?r.filter(this.global_callbacks||[],function(t){return t!==e}):[],this},a.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},a.prototype.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var r=this.callbacks.get(t);if(r&&0<r.length)for(n=0;n<r.length;n++)r[n].fn.call(r[n].context||window,e);else this.failThrough&&this.failThrough(t,e);return this},a);function a(t){this.callbacks=new i["default"],this.global_callbacks=[],this.failThrough=t}e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";function i(t){return"_"+t}var o=n(9),r=(a.prototype.get=function(t){return this._callbacks[i(t)]},a.prototype.add=function(t,e,n){var r=i(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},a.prototype.remove=function(t,e,n){if(t||e||n){var r=t?[i(t)]:o.keys(this._callbacks);e||n?this.removeCallback(r,e,n):this.removeAllCallbacks(r)}else this._callbacks={}},a.prototype.removeCallback=function(t,e,n){o.apply(t,function(t){this._callbacks[t]=o.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||n&&n!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},a.prototype.removeAllCallbacks=function(t){o.apply(t,function(t){delete this._callbacks[t]},this)},a);function a(){this._callbacks={}}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(24),a=(r=o["default"],i(s,r),s.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},s);function s(){r.call(this);var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){t.emit("online")},!1),window.addEventListener("offline",function(){t.emit("offline")},!1))}e.NetInfo=a,e.Network=new a},function(t,e){"use strict";var n=function n(t){var e;return e=t.useTLS?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}],[":def","wss_options",[":extend",":ws_options",{useTLS:!0}]],[":def","sockjs_options",{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]};e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";var r=n(3);e.__esModule=!0,e["default"]=function i(){var n=this;n.timeline.info(n.buildTimelineMessage({transport:n.name+(n.options.useTLS?"s":"")})),n.hooks.isInitialized()?n.changeState("initialized"):n.hooks.file?(n.changeState("initializing"),r.Dependencies.load(n.hooks.file,{useTLS:n.options.useTLS},function(t,e){n.hooks.isInitialized()?(n.changeState("initialized"),e(!0)):(t&&n.onError(t),n.onClose(),e(!1))})):n.onClose()}},function(t,e,n){"use strict";var r=n(30),i=n(32);i["default"].createXDR=function(t,e){return this.createRequest(r["default"],t,e)},e.__esModule=!0,e["default"]=i["default"]},function(t,e,n){"use strict";var r=n(31),i={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new r.RequestTimedOut),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&0<t.responseText.length&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&0<t.responseText.length&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e["default"]=i},function(t,e){"use strict";var n,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=(n=Error,r(o,n),o);function o(){n.apply(this,arguments)}e.BadEventName=i;var a,s=(a=Error,r(u,a),u);function u(){a.apply(this,arguments)}e.RequestTimedOut=s;var c,l=(c=Error,r(f,c),f);function f(){c.apply(this,arguments)}e.TransportPriorityTooLow=l;var h,d=(h=Error,r(p,h),p);function p(){h.apply(this,arguments)}e.TransportClosed=d;var v,g=(v=Error,r(m,v),m);function m(){v.apply(this,arguments)}e.UnsupportedFeature=g;var y,w=(y=Error,r(_,y),_);function _(){y.apply(this,arguments)}e.UnsupportedTransport=w;var b,E=(b=Error,r(S,b),S);function S(){b.apply(this,arguments)}e.UnsupportedStrategy=E},function(t,e,n){"use strict";var r=n(33),i=n(34),o=n(36),a=n(37),s=n(38),u={createStreamingSocket:function(t){return this.createSocket(o["default"],t)},createPollingSocket:function(t){return this.createSocket(a["default"],t)},createSocket:function(t,e){return new i["default"](t,e)},createXHR:function(t,e){return this.createRequest(s["default"],t,e)},createRequest:function(t,e,n){return new r["default"](t,e,n)}};e.__esModule=!0,e["default"]=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),a=n(24),s=(r=a["default"],i(u,r),u.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},o["default"].addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},u.prototype.close=function(){this.unloader&&(o["default"].removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},u.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},u.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},u.prototype.isBufferTooLong=function(t){return this.position===t.length&&262144<t.length},u);function u(t,e,n){r.call(this),this.hooks=t,this.method=e,this.url=n}e.__esModule=!0,e["default"]=s},function(t,n,e){"use strict";function r(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+u++}function i(t){return Math.floor(Math.random()*t)}var o=e(35),a=e(11),s=e(2),u=1,c=(l.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},l.prototype.ping=function(){this.hooks.sendHeartbeat(this)},l.prototype.close=function(t,e){this.onClose(t,e,!0)},l.prototype.sendRaw=function(t){if(this.readyState!==o["default"].OPEN)return!1;try{return s["default"].createSocketRequest("POST",r(function n(t,e){return t.base+"/"+e+"/xhr_send"}(this.location,this.session))).start(t),!0}catch(t){return!1}},l.prototype.reconnect=function(){this.closeStream(),this.openStream()},l.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=o["default"].CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},l.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===o["default"].OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},l.prototype.onOpen=function(t){this.readyState===o["default"].CONNECTING?(t&&t.hostname&&(this.location.base=function r(t,e){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return n[1]+e+n[3]}(this.location.base,t.hostname)),this.readyState=o["default"].OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},l.prototype.onEvent=function(t){this.readyState===o["default"].OPEN&&this.onmessage&&this.onmessage({data:t})},l.prototype.onActivity=function(){this.onactivity&&this.onactivity()},l.prototype.onError=function(t){this.onerror&&this.onerror(t)},l.prototype.openStream=function(){var e=this;this.stream=s["default"].createSocketRequest("POST",r(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(t){e.onChunk(t)}),this.stream.bind("finished",function(t){e.hooks.onFinished(e,t)}),this.stream.bind("buffer_too_long",function(){e.reconnect()});try{this.stream.start()}catch(n){a["default"].defer(function(){e.onError(n),e.onClose(1006,"Could not start streaming",!1)})}},l.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},l);function l(t,e){this.hooks=t,this.session=i(1e3)+"/"+function r(t){for(var e=[],n=0;n<t;n++)e.push(i(32).toString(32));return e.join("")}(8),this.location=function n(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=o["default"].CONNECTING,this.openStream()}n.__esModule=!0,n["default"]=c},function(t,e){"use strict";var n,r;(r=n=n||{})[r.CONNECTING=0]="CONNECTING",r[r.OPEN=1]="OPEN",r[r.CLOSED=3]="CLOSED",e.__esModule=!0,e["default"]=n},function(t,e){"use strict";e.__esModule=!0,e["default"]={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e){"use strict";e.__esModule=!0,e["default"]={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e,n){"use strict";var r=n(2),i={getRequest:function(t){var e=new(r["default"].getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&0<e.responseText.length&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&0<e.responseText.length&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";var i=n(9),r=n(11),o=n(40),a=(s.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(i.extend({},e,{timestamp:r["default"].now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},s.prototype.error=function(t){this.log(o["default"].ERROR,t)},s.prototype.info=function(t){this.log(o["default"].INFO,t)},s.prototype.debug=function(t){this.log(o["default"].DEBUG,t)},s.prototype.isEmpty=function(){return 0===this.events.length},s.prototype.send=function(t,n){var r=this,e=i.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(e,function(t,e){t||r.sent++,n&&n(t,e)}),!0},s.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},s);function s(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}e.__esModule=!0,e["default"]=a},function(t,e){"use strict";var n,r;(r=n=n||{})[r.ERROR=3]="ERROR",r[r.INFO=6]="INFO",r[r.DEBUG=7]="DEBUG",e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(e){return function(t){return[e.apply(this,arguments),t]}}function o(t){return"string"==typeof t&&":"===t.charAt(0)}function a(t,e){return e[t.slice(1)]}function i(t,e){if(o(t[0])){var n=a(t[0],e);if(1<t.length){if("function"!=typeof n)throw"Calling non-function "+t[0];var r=[c.extend({},e)].concat(c.map(t.slice(1),function(t){return s(t,c.extend({},e))[0]}));return n.apply(this,r)}return[n,e]}return function i(t,e){if(0===t.length)return[[],e];var n=s(t[0],e),r=i(t.slice(1),n[1]);return[[n[0]].concat(r[0]),r[1]]}(t,e)}function s(t,e){return"string"==typeof t?function r(t,e){if(!o(t))return[t,e];var n=a(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}(t,e):"object"==_typeof(t)&&t instanceof Array&&0<t.length?i(t,e):[t,e]}var c=n(9),u=n(11),l=n(42),f=n(31),h=n(64),d=n(65),p=n(66),v=n(67),g=n(68),m=n(69),y=n(70),w=n(2)["default"].Transports;e.build=function(t,e){return s(t,c.extend({},b,e))[1].strategy};var _={isSupported:function(){return!1},connect:function(t,e){var n=u["default"].defer(function(){e(new f.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},b={extend:function(t,e,n){return[c.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,r,i,o){var a,s=w[n];if(!s)throw new f.UnsupportedTransport(n);a=!(t.enabledTransports&&-1===c.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==c.arrayIndexOf(t.disabledTransports,e))?new h["default"](e,r,o?o.getAssistant(s):s,c.extend({key:t.key,useTLS:t.useTLS,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},i)):_;var u=t.def(t,e,a)[1];return u.Transports=t.Transports||{},u.Transports[e]=a,[void 0,u]},transport_manager:r(function(t,e){return new l["default"](e)}),sequential:r(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new d["default"](n,e)}),cached:r(function(t,e,n){return new v["default"](n,t.Transports,{ttl:e,timeline:t.timeline,useTLS:t.useTLS})}),first_connected:r(function(t,e){return new y["default"](e)}),best_connected_ever:r(function(){var t=Array.prototype.slice.call(arguments,1);return new p["default"](t)}),delayed:r(function(t,e,n){return new g["default"](n,{delay:e})}),"if":r(function(t,e,n,r){return new m["default"](e,n,r)}),is_supported:r(function(t,e){return function(){return e.isSupported()}})}},function(t,e,n){"use strict";var r=n(43),i=(o.prototype.getAssistant=function(t){return r["default"].createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},o.prototype.isAlive=function(){return 0<this.livesLeft},o.prototype.reportDeath=function(){this.livesLeft-=1},o);function o(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";var r=n(44),i=n(45),o=n(48),a=n(49),s=n(50),u=n(51),c=n(54),l=n(52),f=n(62),h=n(63),d={createChannels:function(){return new h["default"]},createConnectionManager:function(t,e){return new f["default"](t,e)},createChannel:function(t,e){return new l["default"](t,e)},createPrivateChannel:function(t,e){return new u["default"](t,e)},createPresenceChannel:function(t,e){return new s["default"](t,e)},createEncryptedChannel:function(t,e){return new c["default"](t,e)},createTimelineSender:function(t,e){return new a["default"](t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new o["default"](t,e)},createHandshake:function(t,e){return new i["default"](t,e)},createAssistantToTheTransportManager:function(t,e,n){return new r["default"](t,e,n)}};e.__esModule=!0,e["default"]=d},function(t,e,n){"use strict";var c=n(11),l=n(9),r=(i.prototype.createConnection=function(t,e,n,r){var i=this;r=l.extend({},r,{activityTimeout:this.pingDelay});var o=this.transport.createConnection(t,e,n,r),a=null,s=function s(){o.unbind("open",s),o.bind("closed",u),a=c["default"].now()},u=function u(t){if(o.unbind("closed",u),1002===t.code||1003===t.code)i.manager.reportDeath();else if(!t.wasClean&&a){var e=c["default"].now()-a;e<2*i.maxPingDelay&&(i.manager.reportDeath(),i.pingDelay=Math.max(e/2,i.minPingDelay))}};return o.bind("open",s),o},i.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},i);function i(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var r=n(9),i=n(46),o=n(47),a=(s.prototype.close=function(){this.unbindListeners(),this.transport.close()},s.prototype.bindListeners=function(){var r=this;this.onMessage=function(t){var e;r.unbindListeners();try{e=i.processHandshake(t)}catch(t){return r.finish("error",{error:t}),void r.transport.close()}"connected"===e.action?r.finish("connected",{connection:new o["default"](e.id,r.transport),activityTimeout:e.activityTimeout}):(r.finish(e.action,{error:e.error}),r.transport.close())},this.onClosed=function(t){r.unbindListeners();var e=i.getCloseAction(t)||"backoff",n=i.getCloseError(t);r.finish(e,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},s.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},s.prototype.finish=function(t,e){this.callback(r.extend({transport:this.transport,action:t},e))},s);function s(t,e){this.transport=t,this.callback=e,this.bindListeners()}e.__esModule=!0,e["default"]=a},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){if(!(t instanceof SyntaxError))throw t}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){if("pusher:connection_established"===(t=e.decodeMessage(t)).event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?1002<=t.code&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,n){"use strict";var r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(9),a=n(24),s=n(46),u=n(8),c=(r=a["default"],i(l,r),l.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},l.prototype.send=function(t){return this.transport.send(t)},l.prototype.send_event=function(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),u["default"].debug("Event sent",r),this.send(s.encodeMessage(r))},l.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},l.prototype.close=function(){this.transport.close()},l.prototype.bindListeners=function(){var n=this,t={message:function(t){var e;try{e=s.decodeMessage(t)}catch(e){n.emit("error",{type:"MessageParseError",error:e,data:t.data})}if(void 0!==e){switch(u["default"].debug("Event recd",e),e.event){case"pusher:error":n.emit("error",{type:"PusherError",data:e.data});break;case"pusher:ping":n.emit("ping");break;case"pusher:pong":n.emit("pong")}n.emit("message",e)}},activity:function(){n.emit("activity")},error:function(t){n.emit("error",{type:"WebSocketError",error:t})},closed:function(t){e(),t&&t.code&&n.handleCloseEvent(t),n.transport=null,n.emit("closed")}},e=function e(){o.objectApply(t,function(t,e){n.transport.unbind(e,t)})};o.objectApply(t,function(t,e){n.transport.bind(e,t)})},l.prototype.handleCloseEvent=function(t){var e=s.getCloseAction(t),n=s.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e,{action:e,error:n})},l);function l(t,e){r.call(this),this.id=t,this.transport=e,this.activityTimeout=e.activityTimeout,this.bindListeners()}e.__esModule=!0,e["default"]=c},function(t,e,n){"use strict";var r=n(2),i=(o.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},o.prototype.authorize=function(t,e){return(o.authorizers=o.authorizers||r["default"].getAuthorizers())[this.type].call(this,r["default"],t,e)},o);function o(t,e){this.channel=t;var n=e.authTransport;if("undefined"==typeof r["default"].getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=(e||{}).auth||{}}e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";var r=n(2),i=(o.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(r["default"].TimelineTransport.getAgent(this,t),e)},o);function o(t,e){this.timeline=t,this.options=e||{}}e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";var r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(51),a=n(8),s=n(53),u=n(14),c=(r=o["default"],i(l,r),l.prototype.authorize=function(t,i){var o=this;r.prototype.authorize.call(this,t,function(t,e){if(!t){if(void 0===e.channel_data){var n=u["default"].buildLogSuffix("authenticationEndpoint");return a["default"].warn("Invalid auth response for channel '"+o.name+"',expected 'channel_data' field. "+n),void i("Invalid auth response")}var r=JSON.parse(e.channel_data);o.members.setMyID(r.user_id)}i(t,e)})},l.prototype.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var r=this.members.removeMember(e);r&&this.emit("pusher:member_removed",r);break;default:o["default"].prototype.handleEvent.call(this,t,e)}},l.prototype.disconnect=function(){this.members.reset(),r.prototype.disconnect.call(this)},l);function l(t,e){r.call(this,t,e),this.members=new s["default"]}e.__esModule=!0,e["default"]=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(43),a=n(52),s=(r=a["default"],i(u,r),u.prototype.authorize=function(t,e){return o["default"].createAuthorizer(this,this.pusher.config).authorize(t,e)},u);function u(){r.apply(this,arguments)}e.__esModule=!0,e["default"]=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(24),a=n(31),s=n(8),u=(r=o["default"],i(c,r),c.prototype.authorize=function(t,e){return e(!1,{})},c.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new a.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},c.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},c.prototype.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},c.prototype.subscribe=function(){var n=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(t,e){t?n.handleEvent("pusher:subscription_error",e):n.pusher.send_event("pusher:subscribe",{auth:e.auth,channel_data:e.channel_data,channel:n.name})}))},c.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},c.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},c.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},c);function c(n,t){r.call(this,function(t,e){s["default"].debug("No callbacks on "+n+" for "+t)}),this.name=n,this.pusher=t,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}e.__esModule=!0,e["default"]=u},function(t,e,n){"use strict";var i=n(9),r=(o.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},o.prototype.each=function(n){var r=this;i.objectApply(this.members,function(t,e){n(r.get(e))})},o.prototype.setMyID=function(t){this.myID=t},o.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},o.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},o.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},o.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},o);function o(){this.reset()}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(51),a=n(31),s=n(8),u=n(55),c=n(57),l=(r=o["default"],i(f,r),f.prototype.authorize=function(t,i){var o=this;r.prototype.authorize.call(this,t,function(t,e){if(t)i(!0,e);else{var n=e.shared_secret;if(!n){var r="No shared_secret key in auth payload for encrypted channel: "+o.name;return i(!0,r),void s["default"].warn("Error: "+r)}o.key=c.decodeBase64(n),delete e.shared_secret,i(!1,e)}})},f.prototype.trigger=function(t,e){throw new a.UnsupportedFeature("Client events are not currently supported for encrypted channels")},f.prototype.handleEvent=function(t,e){return 0===t.indexOf("pusher_internal:")||0===t.indexOf("pusher:")?void r.prototype.handleEvent.call(this,t,e):void this.handleEncryptedEvent(t,e)},f.prototype.handleEncryptedEvent=function(n,t){var r=this;if(this.key)if(t.ciphertext&&t.nonce){var i=c.decodeBase64(t.ciphertext);if(i.length<u.secretbox.overheadLength)s["default"].warn("Expected encrypted event ciphertext length to be "+u.secretbox.overheadLength+", got: "+i.length);else{var o=c.decodeBase64(t.nonce);if(!(o.length<u.secretbox.nonceLength)){var a=u.secretbox.open(i,o,this.key);return null===a?(s["default"].debug("Failed to decrypted an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,function(t,e){return t?void s["default"].warn("Failed to make a request to the authEndpoint: "+e+". Unable to fetch new key, so dropping encrypted event"):null===(a=u.secretbox.open(i,o,r.key))?void s["default"].warn("Failed to decrypt event with new key. Dropping encrypted event"):void r.emitJSON(n,c.encodeUTF8(a))})):void this.emitJSON(n,c.encodeUTF8(a))}s["default"].warn("Expected encrypted event nonce length to be "+u.secretbox.nonceLength+", got: "+o.length)}}else s["default"].warn("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+t);else s["default"].debug("Received encrypted event before key has been retrieved from the authEndpoint")},f.prototype.emitJSON=function(t,e){try{this.emit(t,JSON.parse(e))}catch(n){this.emit(t,e)}return this},f);function f(){r.apply(this,arguments),this.key=null}e.__esModule=!0,e["default"]=l},function(t,e,vt){!function(o){"use strict";function u(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function i(t,e,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=t[e+o]^n[r+o];return(1&a-1>>>8)-1}function s(t,e,n,r){return i(t,e,n,r,16)}function c(t,e,n,r){return i(t,e,n,r,32)}function f(t,e,n,r){!function B(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,w=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,b=o,E=a,S=s,T=u,A=c,k=l,I=f,R=h,x=d,C=p,O=v,P=g,L=m,M=y,N=w,U=_,D=0;D<20;D+=2)b^=(i=(L^=(i=(x^=(i=(A^=(i=b+L|0)<<7|i>>>25)+b|0)<<9|i>>>23)+A|0)<<13|i>>>19)+x|0)<<18|i>>>14,k^=(i=(E^=(i=(M^=(i=(C^=(i=k+E|0)<<7|i>>>25)+k|0)<<9|i>>>23)+C|0)<<13|i>>>19)+M|0)<<18|i>>>14,O^=(i=(I^=(i=(S^=(i=(N^=(i=O+I|0)<<7|i>>>25)+O|0)<<9|i>>>23)+N|0)<<13|i>>>19)+S|0)<<18|i>>>14,U^=(i=(P^=(i=(R^=(i=(T^=(i=U+P|0)<<7|i>>>25)+U|0)<<9|i>>>23)+T|0)<<13|i>>>19)+R|0)<<18|i>>>14,b^=(i=(T^=(i=(S^=(i=(E^=(i=b+T|0)<<7|i>>>25)+b|0)<<9|i>>>23)+E|0)<<13|i>>>19)+S|0)<<18|i>>>14,k^=(i=(A^=(i=(R^=(i=(I^=(i=k+A|0)<<7|i>>>25)+k|0)<<9|i>>>23)+I|0)<<13|i>>>19)+R|0)<<18|i>>>14,O^=(i=(C^=(i=(x^=(i=(P^=(i=O+C|0)<<7|i>>>25)+O|0)<<9|i>>>23)+P|0)<<13|i>>>19)+x|0)<<18|i>>>14,U^=(i=(N^=(i=(M^=(i=(L^=(i=U+N|0)<<7|i>>>25)+U|0)<<9|i>>>23)+L|0)<<13|i>>>19)+M|0)<<18|i>>>14;b=b+o|0,E=E+a|0,S=S+s|0,T=T+u|0,A=A+c|0,k=k+l|0,I=I+f|0,R=R+h|0,x=x+d|0,C=C+p|0,O=O+v|0,P=P+g|0,L=L+m|0,M=M+y|0,N=N+w|0,U=U+_|0,t[0]=b>>>0&255,t[1]=b>>>8&255,t[2]=b>>>16&255,t[3]=b>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=T>>>0&255,t[13]=T>>>8&255,t[14]=T>>>16&255,t[15]=T>>>24&255,t[16]=A>>>0&255,t[17]=A>>>8&255,t[18]=A>>>16&255,t[19]=A>>>24&255,t[20]=k>>>0&255,t[21]=k>>>8&255,t[22]=k>>>16&255,t[23]=k>>>24&255,t[24]=I>>>0&255,t[25]=I>>>8&255,t[26]=I>>>16&255,t[27]=I>>>24&255,t[28]=R>>>0&255,t[29]=R>>>8&255,t[30]=R>>>16&255,t[31]=R>>>24&255,t[32]=x>>>0&255,t[33]=x>>>8&255,t[34]=x>>>16&255,t[35]=x>>>24&255,t[36]=C>>>0&255,t[37]=C>>>8&255,t[38]=C>>>16&255,t[39]=C>>>24&255,t[40]=O>>>0&255,t[41]=O>>>8&255,t[42]=O>>>16&255,t[43]=O>>>24&255,t[44]=P>>>0&255,t[45]=P>>>8&255,t[46]=P>>>16&255,t[47]=P>>>24&255,t[48]=L>>>0&255,t[49]=L>>>8&255,t[50]=L>>>16&255,t[51]=L>>>24&255,t[52]=M>>>0&255,t[53]=M>>>8&255,t[54]=M>>>16&255,t[55]=M>>>24&255,t[56]=N>>>0&255,t[57]=N>>>8&255,t[58]=N>>>16&255,t[59]=N>>>24&255,t[60]=U>>>0&255,t[61]=U>>>8&255,t[62]=U>>>16&255,t[63]=U>>>24&255}(t,e,n,r)}function l(t,e,n,r){!function E(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,w=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,b=0;b<20;b+=2)o^=(i=(m^=(i=(d^=(i=(c^=(i=o+m|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,l^=(i=(a^=(i=(y^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,v^=(i=(f^=(i=(s^=(i=(w^=(i=v+f|0)<<7|i>>>25)+v|0)<<9|i>>>23)+w|0)<<13|i>>>19)+s|0)<<18|i>>>14,_^=(i=(g^=(i=(h^=(i=(u^=(i=_+g|0)<<7|i>>>25)+_|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,o^=(i=(u^=(i=(s^=(i=(a^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(c^=(i=(h^=(i=(f^=(i=l+c|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+h|0)<<18|i>>>14,v^=(i=(p^=(i=(d^=(i=(g^=(i=v+p|0)<<7|i>>>25)+v|0)<<9|i>>>23)+g|0)<<13|i>>>19)+d|0)<<18|i>>>14,_^=(i=(w^=(i=(y^=(i=(m^=(i=_+w|0)<<7|i>>>25)+_|0)<<9|i>>>23)+m|0)<<13|i>>>19)+y|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=v>>>0&255,t[9]=v>>>8&255,t[10]=v>>>16&255,t[11]=v>>>24&255,t[12]=_>>>0&255,t[13]=_>>>8&255,t[14]=_>>>16&255,t[15]=_>>>24&255,t[16]=f>>>0&255,t[17]=f>>>8&255,t[18]=f>>>16&255,t[19]=f>>>24&255,t[20]=h>>>0&255,t[21]=h>>>8&255,t[22]=h>>>16&255,t[23]=h>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,n,r)}function h(t,e,n,r,i,o,a){var s,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;64<=i;){for(f(l,c,a,st),u=0;u<64;u++)t[e+u]=n[r+u]^l[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;i-=64,e+=64,r+=64}if(0<i)for(f(l,c,a,st),u=0;u<i;u++)t[e+u]=n[r+u]^l[u];return 0}function d(t,e,n,r,i){var o,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;64<=n;){for(f(u,s,i,st),a=0;a<64;a++)t[e+a]=u[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,e+=64}if(0<n)for(f(u,s,i,st),a=0;a<n;a++)t[e+a]=u[a];return 0}function p(t,e,n,r,i){var o=new Uint8Array(32);l(o,r,i,st);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return d(t,e,n,a,o)}function v(t,e,n,r,i,o,a){var s=new Uint8Array(32);l(s,o,a,st);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return h(t,e,n,r,i,u,s)}function g(t,e,n,r,i,o){var a=new ut(o);return a.update(n,r,i),a.finish(t,e),0}function m(t,e,n,r,i,o){var a=new Uint8Array(16);return g(a,0,n,r,i,o),s(t,e,a,0)}function a(t,e,n,r,i){var o;if(n<32)return-1;for(v(t,0,e,0,n,r,i),g(t,16,t,32,n-32,t),o=0;o<16;o++)t[o]=0;return 0}function y(t,e,n,r,i){var o,a=new Uint8Array(32);if(n<32)return-1;if(p(a,0,32,r,i),0!==m(e,16,e,32,n-32,a))return-1;for(v(t,0,e,0,n,r,i),o=0;o<32;o++)t[o]=0;return 0}function w(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function _(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function b(t,e,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(t[o]^e[o]),t[o]^=r,e[o]^=r}function E(t,e){var n,r,i,o=J(),a=J();for(n=0;n<16;n++)a[n]=e[n];for(_(a),_(a),_(a),r=0;r<2;r++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,b(a,o,1-i)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function S(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return E(n,t),E(r,e),c(n,0,r,0)}function T(t){var e=new Uint8Array(32);return E(e,t),1&e[0]}function A(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function k(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function I(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function R(t,e,n){var r,i,o=0,a=0,s=0,u=0,c=0,l=0,f=0,h=0,d=0,p=0,v=0,g=0,m=0,y=0,w=0,_=0,b=0,E=0,S=0,T=0,A=0,k=0,I=0,R=0,x=0,C=0,O=0,P=0,L=0,M=0,N=0,U=n[0],D=n[1],B=n[2],j=n[3],H=n[4],z=n[5],F=n[6],V=n[7],Y=n[8],q=n[9],G=n[10],K=n[11],X=n[12],J=n[13],W=n[14],Z=n[15];o+=(r=e[0])*U,a+=r*D,s+=r*B,u+=r*j,c+=r*H,l+=r*z,f+=r*F,h+=r*V,d+=r*Y,p+=r*q,v+=r*G,g+=r*K,m+=r*X,y+=r*J,w+=r*W,_+=r*Z,a+=(r=e[1])*U,s+=r*D,u+=r*B,c+=r*j,l+=r*H,f+=r*z,h+=r*F,d+=r*V,p+=r*Y,v+=r*q,g+=r*G,m+=r*K,y+=r*X,w+=r*J,_+=r*W,b+=r*Z,s+=(r=e[2])*U,u+=r*D,c+=r*B,l+=r*j,f+=r*H,h+=r*z,d+=r*F,p+=r*V,v+=r*Y,g+=r*q,m+=r*G,y+=r*K,w+=r*X,_+=r*J,b+=r*W,E+=r*Z,u+=(r=e[3])*U,c+=r*D,l+=r*B,f+=r*j,h+=r*H,d+=r*z,p+=r*F,v+=r*V,g+=r*Y,m+=r*q,y+=r*G,w+=r*K,_+=r*X,b+=r*J,E+=r*W,S+=r*Z,c+=(r=e[4])*U,l+=r*D,f+=r*B,h+=r*j,d+=r*H,p+=r*z,v+=r*F,g+=r*V,m+=r*Y,y+=r*q,w+=r*G,_+=r*K,b+=r*X,E+=r*J,S+=r*W,T+=r*Z,l+=(r=e[5])*U,f+=r*D,h+=r*B,d+=r*j,p+=r*H,v+=r*z,g+=r*F,m+=r*V,y+=r*Y,w+=r*q,_+=r*G,b+=r*K,E+=r*X,S+=r*J,T+=r*W,A+=r*Z,f+=(r=e[6])*U,h+=r*D,d+=r*B,p+=r*j,v+=r*H,g+=r*z,m+=r*F,y+=r*V,w+=r*Y,_+=r*q,b+=r*G,E+=r*K,S+=r*X,T+=r*J,A+=r*W,k+=r*Z,h+=(r=e[7])*U,d+=r*D,p+=r*B,v+=r*j,g+=r*H,m+=r*z,y+=r*F,w+=r*V,_+=r*Y,b+=r*q,E+=r*G,S+=r*K,T+=r*X,A+=r*J,k+=r*W,I+=r*Z,d+=(r=e[8])*U,p+=r*D,v+=r*B,g+=r*j,m+=r*H,y+=r*z,w+=r*F,_+=r*V,b+=r*Y,E+=r*q,S+=r*G,T+=r*K,A+=r*X,k+=r*J,I+=r*W,R+=r*Z,p+=(r=e[9])*U,v+=r*D,g+=r*B,m+=r*j,y+=r*H,w+=r*z,_+=r*F,b+=r*V,E+=r*Y,S+=r*q,T+=r*G,A+=r*K,k+=r*X,I+=r*J,R+=r*W,x+=r*Z,v+=(r=e[10])*U,g+=r*D,m+=r*B,y+=r*j,w+=r*H,_+=r*z,b+=r*F,E+=r*V,S+=r*Y,T+=r*q,A+=r*G,k+=r*K,I+=r*X,R+=r*J,x+=r*W,C+=r*Z,g+=(r=e[11])*U,m+=r*D,y+=r*B,w+=r*j,_+=r*H,b+=r*z,E+=r*F,S+=r*V,T+=r*Y,A+=r*q,k+=r*G,I+=r*K,R+=r*X,x+=r*J,C+=r*W,O+=r*Z,m+=(r=e[12])*U,y+=r*D,w+=r*B,_+=r*j,b+=r*H,E+=r*z,S+=r*F,T+=r*V,A+=r*Y,k+=r*q,I+=r*G,R+=r*K,x+=r*X,C+=r*J,O+=r*W,P+=r*Z,y+=(r=e[13])*U,w+=r*D,_+=r*B,b+=r*j,E+=r*H,S+=r*z,T+=r*F,A+=r*V,k+=r*Y,I+=r*q,R+=r*G,x+=r*K,C+=r*X,O+=r*J,P+=r*W,L+=r*Z,w+=(r=e[14])*U,_+=r*D,b+=r*B,E+=r*j,S+=r*H,T+=r*z,A+=r*F,k+=r*V,I+=r*Y,R+=r*q,x+=r*G,C+=r*K,O+=r*X,P+=r*J,L+=r*W,M+=r*Z,_+=(r=e[15])*U,a+=38*(E+=r*B),s+=38*(S+=r*j),u+=38*(T+=r*H),c+=38*(A+=r*z),l+=38*(k+=r*F),f+=38*(I+=r*V),h+=38*(R+=r*Y),d+=38*(x+=r*q),p+=38*(C+=r*G),v+=38*(O+=r*K),g+=38*(P+=r*X),m+=38*(L+=r*J),y+=38*(M+=r*W),w+=38*(N+=r*Z),o=(r=(o+=38*(b+=r*D))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=a,t[2]=s,t[3]=u,t[4]=c,t[5]=l,t[6]=f,t[7]=h,t[8]=d,t[9]=p,t[10]=v,t[11]=g,t[12]=m,t[13]=y,t[14]=w,t[15]=_}function x(t,e){R(t,e,e)}function C(t,e){var n,r=J();for(n=0;n<16;n++)r[n]=e[n];for(n=253;0<=n;n--)x(r,r),2!==n&&4!==n&&R(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function O(t,e,n){var r,i,o=new Uint8Array(32),a=new Float64Array(80),s=J(),u=J(),c=J(),l=J(),f=J(),h=J();for(i=0;i<31;i++)o[i]=e[i];for(o[31]=127&e[31]|64,o[0]&=248,A(a,n),i=0;i<16;i++)u[i]=a[i],l[i]=s[i]=c[i]=0;for(s[0]=l[0]=1,i=254;0<=i;--i)b(s,u,r=o[i>>>3]>>>(7&i)&1),b(c,l,r),k(f,s,c),I(s,s,c),k(c,u,l),I(u,u,l),x(l,f),x(h,s),R(s,c,s),R(c,u,f),k(f,s,c),I(s,s,c),x(u,s),I(c,l,h),R(s,c,et),k(s,s,l),R(c,c,s),R(s,l,h),R(l,u,a),x(u,f),b(s,u,r),b(c,l,r);for(i=0;i<16;i++)a[i+16]=s[i],a[i+32]=c[i],a[i+48]=u[i],a[i+64]=l[i];var d=a.subarray(32),p=a.subarray(16);return C(d,d),R(p,p,d),E(t,p),0}function n(t,e){return O(t,e,Q)}function r(t,e){return W(e,32),n(t,e)}function P(t,e,n){var r=new Uint8Array(32);return O(r,n,e),l(t,Z,r,st)}function L(t,e,n,r){for(var i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,w,_,b,E,S,T,A,k,I,R,x,C=new Int32Array(16),O=new Int32Array(16),P=t[0],L=t[1],M=t[2],N=t[3],U=t[4],D=t[5],B=t[6],j=t[7],H=e[0],z=e[1],F=e[2],V=e[3],Y=e[4],q=e[5],G=e[6],K=e[7],X=0;128<=r;){for(E=0;E<16;E++)S=8*E+X,C[E]=n[S+0]<<24|n[S+1]<<16|n[S+2]<<8|n[S+3],O[E]=n[S+4]<<24|n[S+5]<<16|n[S+6]<<8|n[S+7];for(E=0;E<80;E++)if(i=P,o=L,a=M,s=N,h=H,d=z,p=F,v=V,k=65535&(A=K),I=A>>>16,R=65535&(T=j),x=T>>>16,k+=65535&(A=((g=Y)>>>14|(u=U)<<18)^(Y>>>18|U<<14)^(U>>>9|Y<<23)),I+=A>>>16,R+=65535&(T=(U>>>14|Y<<18)^(U>>>18|Y<<14)^(Y>>>9|U<<23)),x+=T>>>16,k+=65535&(A=Y&(m=q)^~Y&(y=G)),I+=A>>>16,R+=65535&(T=U&(c=D)^~U&(l=B)),x+=T>>>16,T=ft[2*E],k+=65535&(A=ft[2*E+1]),I+=A>>>16,R+=65535&T,x+=T>>>16,T=C[E%16],I+=(A=O[E%16])>>>16,R+=65535&T,x+=T>>>16,R+=(I+=(k+=65535&A)>>>16)>>>16,k=65535&(A=b=65535&k|I<<16),I=A>>>16,R=65535&(T=_=65535&R|(x+=R>>>16)<<16),x=T>>>16,k+=65535&(A=(H>>>28|P<<4)^(P>>>2|H<<30)^(P>>>7|H<<25)),I+=A>>>16,R+=65535&(T=(P>>>28|H<<4)^(H>>>2|P<<30)^(H>>>7|P<<25)),x+=T>>>16,I+=(A=H&z^H&F^z&F)>>>16,R+=65535&(T=P&L^P&M^L&M),x+=T>>>16,f=65535&(R+=(I+=(k+=65535&A)>>>16)>>>16)|(x+=R>>>16)<<16,w=65535&k|I<<16,k=65535&(A=v),I=A>>>16,R=65535&(T=s),x=T>>>16,I+=(A=b)>>>16,R+=65535&(T=_),x+=T>>>16,L=i,M=o,N=a,U=s=65535&(R+=(I+=(k+=65535&A)>>>16)>>>16)|(x+=R>>>16)<<16,D=u,B=c,j=l,P=f,z=h,F=d,V=p,Y=v=65535&k|I<<16,q=g,G=m,K=y,H=w,E%16==15)for(S=0;S<16;S++)T=C[S],k=65535&(A=O[S]),I=A>>>16,R=65535&T,x=T>>>16,T=C[(S+9)%16],k+=65535&(A=O[(S+9)%16]),I+=A>>>16,R+=65535&T,x+=T>>>16,_=C[(S+1)%16],k+=65535&(A=((b=O[(S+1)%16])>>>1|_<<31)^(b>>>8|_<<24)^(b>>>7|_<<25)),I+=A>>>16,R+=65535&(T=(_>>>1|b<<31)^(_>>>8|b<<24)^_>>>7),x+=T>>>16,_=C[(S+14)%16],I+=(A=((b=O[(S+14)%16])>>>19|_<<13)^(_>>>29|b<<3)^(b>>>6|_<<26))>>>16,R+=65535&(T=(_>>>19|b<<13)^(b>>>29|_<<3)^_>>>6),x+=T>>>16,x+=(R+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,C[S]=65535&R|x<<16,O[S]=65535&k|I<<16;k=65535&(A=H),I=A>>>16,R=65535&(T=P),x=T>>>16,T=t[0],I+=(A=e[0])>>>16,R+=65535&T,x+=T>>>16,x+=(R+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,t[0]=P=65535&R|x<<16,e[0]=H=65535&k|I<<16,k=65535&(A=z),I=A>>>16,R=65535&(T=L),x=T>>>16,T=t[1],I+=(A=e[1])>>>16,R+=65535&T,x+=T>>>16,x+=(R+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,t[1]=L=65535&R|x<<16,e[1]=z=65535&k|I<<16,k=65535&(A=F),I=A>>>16,R=65535&(T=M),x=T>>>16,T=t[2],I+=(A=e[2])>>>16,R+=65535&T,x+=T>>>16,x+=(R+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,t[2]=M=65535&R|x<<16,e[2]=F=65535&k|I<<16,k=65535&(A=V),I=A>>>16,R=65535&(T=N),x=T>>>16,T=t[3],I+=(A=e[3])>>>16,R+=65535&T,x+=T>>>16,x+=(R+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,t[3]=N=65535&R|x<<16,e[3]=V=65535&k|I<<16,k=65535&(A=Y),I=A>>>16,R=65535&(T=U),x=T>>>16,T=t[4],I+=(A=e[4])>>>16,R+=65535&T,x+=T>>>16,x+=(R+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,t[4]=U=65535&R|x<<16,e[4]=Y=65535&k|I<<16,k=65535&(A=q),I=A>>>16,R=65535&(T=D),x=T>>>16,T=t[5],I+=(A=e[5])>>>16,R+=65535&T,x+=T>>>16,x+=(R+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,t[5]=D=65535&R|x<<16,e[5]=q=65535&k|I<<16,k=65535&(A=G),I=A>>>16,R=65535&(T=B),x=T>>>16,T=t[6],I+=(A=e[6])>>>16,R+=65535&T,x+=T>>>16,x+=(R+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,t[6]=B=65535&R|x<<16,e[6]=G=65535&k|I<<16,k=65535&(A=K),I=A>>>16,R=65535&(T=j),x=T>>>16,T=t[7],I+=(A=e[7])>>>16,R+=65535&T,x+=T>>>16,x+=(R+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,t[7]=j=65535&R|x<<16,e[7]=K=65535&k|I<<16,X+=128,r-=128}return r}function M(t,e,n){var r,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,L(i,o,e,n),n%=128,r=0;r<n;r++)a[r]=e[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,u(a,n-8,s/536870912|0,s<<3),L(i,o,a,n),r=0;r<8;r++)u(t,8*r,i[r],o[r]);return 0}function N(t,e){var n=J(),r=J(),i=J(),o=J(),a=J(),s=J(),u=J(),c=J(),l=J();I(n,t[1],t[0]),I(l,e[1],e[0]),R(n,n,l),k(r,t[0],t[1]),k(l,e[0],e[1]),R(r,r,l),R(i,t[3],e[3]),R(i,i,rt),R(o,t[2],e[2]),k(o,o,o),I(a,r,n),I(s,o,i),k(u,o,i),k(c,r,n),R(t[0],a,s),R(t[1],c,u),R(t[2],u,s),R(t[3],a,c)}function U(t,e,n){var r;for(r=0;r<4;r++)b(t[r],e[r],n)}function D(t,e){var n=J(),r=J(),i=J();C(i,e[2]),R(n,e[0],i),R(r,e[1],i),E(t,r),t[31]^=T(n)<<7}function B(t,e,n){var r,i;for(w(t[0],$),w(t[1],tt),w(t[2],tt),w(t[3],$),i=255;0<=i;--i)U(t,e,r=n[i/8|0]>>(7&i)&1),N(e,t),N(t,t),U(t,e,r)}function j(t,e){var n=[J(),J(),J(),J()];w(n[0],it),w(n[1],ot),w(n[2],tt),R(n[3],it,ot),B(t,n,e)}function H(t,e,n){var r,i=new Uint8Array(64),o=[J(),J(),J(),J()];for(n||W(e,32),M(i,e,32),i[0]&=248,i[31]&=127,i[31]|=64,j(o,i),D(t,o),r=0;r<32;r++)e[r+32]=t[r];return 0}function z(t,e){var n,r,i,o;for(r=63;32<=r;--r){for(n=0,i=r-32,o=r-12;i<o;++i)e[i]+=n-16*e[r]*ht[i-(r-32)],n=e[i]+128>>8,e[i]-=256*n;e[i]+=n,e[r]=0}for(i=n=0;i<32;i++)e[i]+=n-(e[31]>>4)*ht[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*ht[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function F(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;z(t,n)}function V(t,e,n,r){var i,o,a=new Uint8Array(64),s=new Uint8Array(64),u=new Uint8Array(64),c=new Float64Array(64),l=[J(),J(),J(),J()];M(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=n+64;for(i=0;i<n;i++)t[64+i]=e[i];for(i=0;i<32;i++)t[32+i]=a[32+i];for(M(u,t.subarray(32),n+32),F(u),j(l,u),D(t,l),i=32;i<64;i++)t[i]=r[i];for(M(s,t,n+64),F(s),i=0;i<64;i++)c[i]=0;for(i=0;i<32;i++)c[i]=u[i];for(i=0;i<32;i++)for(o=0;o<32;o++)c[i+o]+=s[i]*a[o];return z(t.subarray(32),c),f}function Y(t,e){var n=J(),r=J(),i=J(),o=J(),a=J(),s=J(),u=J();return w(t[2],tt),A(t[1],e),x(i,t[1]),R(o,i,nt),I(i,i,t[2]),k(o,t[2],o),x(a,o),x(s,a),R(u,s,a),R(n,u,i),R(n,n,o),function c(t,e){var n,r=J();for(n=0;n<16;n++)r[n]=e[n];for(n=250;0<=n;n--)x(r,r),1!==n&&R(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}(n,n),R(n,n,i),R(n,n,o),R(n,n,o),R(t[0],n,o),x(r,t[0]),R(r,r,o),S(r,i)&&R(t[0],t[0],at),x(r,t[0]),R(r,r,o),S(r,i)?-1:(T(t[0])===e[31]>>7&&I(t[0],$,t[0]),R(t[3],t[0],t[1]),0)}function q(t,e,n,r){var i,o=new Uint8Array(32),a=new Uint8Array(64),s=[J(),J(),J(),J()],u=[J(),J(),J(),J()];if(-1,n<64)return-1;if(Y(u,r))return-1;for(i=0;i<n;i++)t[i]=e[i];for(i=0;i<32;i++)t[i+32]=r[i];if(M(a,t,n),F(a),B(s,u,a),j(u,e.subarray(32)),N(s,u),D(o,s),n-=64,c(e,0,o,0)){for(i=0;i<n;i++)t[i]=0;return-1}for(i=0;i<n;i++)t[i]=e[i+64];return n}function G(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function K(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function X(t){for(var e=0;e<t.length;e++)t[e]=0}var J=function J(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},W=function W(){throw new Error("no PRNG")},Z=new Uint8Array(16),Q=new Uint8Array(32);Q[0]=9;var $=J(),tt=J([1]),et=J([56129,1]),nt=J([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),rt=J([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),it=J([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ot=J([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),at=J([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),st=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),ut=function ut(t){var e,n,r,i,o,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,e=255&t[this.fin=0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};ut.prototype.blocks=function(t,e,n){for(var r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,w,_,b,E=this.fin?0:2048,S=this.h[0],T=this.h[1],A=this.h[2],k=this.h[3],I=this.h[4],R=this.h[5],x=this.h[6],C=this.h[7],O=this.h[8],P=this.h[9],L=this.r[0],M=this.r[1],N=this.r[2],U=this.r[3],D=this.r[4],B=this.r[5],j=this.r[6],H=this.r[7],z=this.r[8],F=this.r[9];16<=n;)h=f=0,h+=(S+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*L,h+=(T+=8191&(r>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*F),h+=(A+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*z),h+=(k+=8191&(o>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*H),f=(h+=(I+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*j))>>>13,h&=8191,h+=(R+=s>>>1&8191)*(5*B),h+=(x+=8191&(s>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*D),h+=(C+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*U),h+=(O+=8191&(c>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*N),d=f+=(h+=(P+=l>>>5|E)*(5*M))>>>13,d+=S*M,d+=T*L,d+=A*(5*F),d+=k*(5*z),f=(d+=I*(5*H))>>>13,d&=8191,d+=R*(5*j),d+=x*(5*B),d+=C*(5*D),d+=O*(5*U),f+=(d+=P*(5*N))>>>13,d&=8191,p=f,p+=S*N,p+=T*M,p+=A*L,p+=k*(5*F),f=(p+=I*(5*z))>>>13,p&=8191,p+=R*(5*H),p+=x*(5*j),p+=C*(5*B),p+=O*(5*D),v=f+=(p+=P*(5*U))>>>13,v+=S*U,v+=T*N,v+=A*M,v+=k*L,f=(v+=I*(5*F))>>>13,v&=8191,v+=R*(5*z),v+=x*(5*H),v+=C*(5*j),v+=O*(5*B),g=f+=(v+=P*(5*D))>>>13,g+=S*D,g+=T*U,g+=A*N,g+=k*M,f=(g+=I*L)>>>13,g&=8191,g+=R*(5*F),g+=x*(5*z),g+=C*(5*H),g+=O*(5*j),m=f+=(g+=P*(5*B))>>>13,m+=S*B,m+=T*D,m+=A*U,m+=k*N,f=(m+=I*M)>>>13,m&=8191,m+=R*L,m+=x*(5*F),m+=C*(5*z),m+=O*(5*H),y=f+=(m+=P*(5*j))>>>13,y+=S*j,y+=T*B,y+=A*D,y+=k*U,f=(y+=I*N)>>>13,y&=8191,y+=R*M,y+=x*L,y+=C*(5*F),y+=O*(5*z),w=f+=(y+=P*(5*H))>>>13,w+=S*H,w+=T*j,w+=A*B,w+=k*D,f=(w+=I*U)>>>13,w&=8191,w+=R*N,w+=x*M,w+=C*L,w+=O*(5*F),_=f+=(w+=P*(5*z))>>>13,_+=S*z,_+=T*H,_+=A*j,_+=k*B,f=(_+=I*D)>>>13,_&=8191,_+=R*U,_+=x*N,_+=C*M,_+=O*L,b=f+=(_+=P*(5*F))>>>13,b+=S*F,b+=T*z,b+=A*H,b+=k*j,f=(b+=I*B)>>>13,b&=8191,b+=R*D,b+=x*U,b+=C*N,b+=O*M,S=h=8191&(f=(f=((f+=(b+=P*L)>>>13)<<2)+f|0)+(h&=8191)|0),T=d+=f>>>=13,A=p&=8191,k=v&=8191,I=g&=8191,R=m&=8191,x=y&=8191,C=w&=8191,O=_&=8191,P=b&=8191,e+=16,n-=16;this.h[0]=S,this.h[1]=T,this.h[2]=A,this.h[3]=k,this.h[4]=I,this.h[5]=R,this.h[6]=x,this.h[7]=C,this.h[8]=O,this.h[9]=P},ut.prototype.finish=function(t,e){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},ut.prototype.update=function(t,e,n){var r,i;if(this.leftover){for(n<(i=16-this.leftover)&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(16<=n&&(i=n-n%16,this.blocks(t,e,i),e+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var ct=a,lt=y,ft=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],ht=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);o.lowlevel={crypto_core_hsalsa20:l,crypto_stream_xor:v,crypto_stream:p,crypto_stream_salsa20_xor:h,crypto_stream_salsa20:d,crypto_onetimeauth:g,crypto_onetimeauth_verify:m,crypto_verify_16:s,crypto_verify_32:c,crypto_secretbox:a,crypto_secretbox_open:y,crypto_scalarmult:O,crypto_scalarmult_base:n,crypto_box_beforenm:P,crypto_box_afternm:ct,crypto_box:function dt(t,e,n,r,i,o){var a=new Uint8Array(32);return P(a,i,o),ct(t,e,n,r,a)},crypto_box_open:function pt(t,e,n,r,i,o){var a=new Uint8Array(32);return P(a,i,o),lt(t,e,n,r,a)},crypto_box_keypair:r,crypto_hash:M,crypto_sign:V,crypto_sign_keypair:H,crypto_sign_open:q,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},o.randomBytes=function(t){var e=new Uint8Array(t);return W(e,t),e},o.secretbox=function(t,e,n){K(t,e,n),G(n,e);for(var r=new Uint8Array(32+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+32]=t[o];return a(i,r,r.length,e,n),i.subarray(16)},o.secretbox.open=function(t,e,n){K(t,e,n),G(n,e);for(var r=new Uint8Array(16+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+16]=t[o];return r.length<32?null:0!==y(i,r,r.length,e,n)?null:i.subarray(32)},o.secretbox.keyLength=32,o.secretbox.nonceLength=24,o.secretbox.overheadLength=16,o.scalarMult=function(t,e){if(K(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return O(n,t,e),n},o.scalarMult.base=function(t){if(K(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return n(e,t),e},o.scalarMult.scalarLength=32,o.scalarMult.groupElementLength=32,o.box=function(t,e,n,r){var i=o.box.before(n,r);return o.secretbox(t,e,i)},o.box.before=function(t,e){K(t,e),function r(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return P(n,t,e),n},o.box.after=o.secretbox,o.box.open=function(t,e,n,r){var i=o.box.before(n,r);return o.secretbox.open(t,e,i)},o.box.open.after=o.secretbox.open,o.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return r(t,e),{publicKey:t,secretKey:e}},o.box.keyPair.fromSecretKey=function(t){if(K(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return n(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},o.box.publicKeyLength=32,o.box.secretKeyLength=32,o.box.sharedKeyLength=32,o.box.nonceLength=24,o.box.overheadLength=o.secretbox.overheadLength,o.sign=function(t,e){if(K(t,e),64!==e.length)throw new Error("bad secret key size");var n=new Uint8Array(64+t.length);return V(n,t,t.length,e),n},o.sign.open=function(t,e){if(K(t,e),32!==e.length)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=q(n,t,t.length,e);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},o.sign.detached=function(t,e){for(var n=o.sign(t,e),r=new Uint8Array(64),i=0;i<r.length;i++)r[i]=n[i];return r},o.sign.detached.verify=function(t,e,n){if(K(t,e,n),64!==e.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var r,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(r=0;r<64;r++)i[r]=e[r];for(r=0;r<t.length;r++)i[r+64]=t[r];return 0<=q(o,i,i.length,n)},o.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return H(t,e),{publicKey:t,secretKey:e}},o.sign.keyPair.fromSecretKey=function(t){if(K(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},o.sign.keyPair.fromSeed=function(t){if(K(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=t[r];return H(e,n,!0),{publicKey:e,secretKey:n}},o.sign.publicKeyLength=32,o.sign.secretKeyLength=64,o.sign.seedLength=32,o.sign.signatureLength=64,o.hash=function(t){K(t);var e=new Uint8Array(64);return M(e,t,t.length),e},o.hash.hashLength=64,o.verify=function(t,e){return K(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===i(t,0,e,0,t.length)},o.setPRNG=function(t){W=t},function(){var i="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(i&&i.getRandomValues){o.setPRNG(function(t,e){var n,r=new Uint8Array(e);for(n=0;n<e;n+=65536)i.getRandomValues(r.subarray(n,n+Math.min(e-n,65536)));for(n=0;n<e;n++)t[n]=r[n];X(r)})}else(i=vt(56))&&i.randomBytes&&o.setPRNG(function(t,e){var n,r=i.randomBytes(e);for(n=0;n<e;n++)t[n]=r[n];X(r)})}()}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e){},function(n,t,e){(function(e){!function(t,e){"use strict";void 0!==n&&n.exports?n.exports=e():(t.nacl||(t.nacl={}),t.nacl.util=e())}(this,function(){"use strict";function i(t){if(!/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}var t={decodeUTF8:function(t){if("string"!=typeof t)throw new TypeError("expected string");var e,n=unescape(encodeURIComponent(t)),r=new Uint8Array(n.length);for(e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r},encodeUTF8:function(t){var e,n=[];for(e=0;e<t.length;e++)n.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(n.join("")))}};return"undefined"==typeof atob?"undefined"!=typeof e.from?(t.encodeBase64=function(t){return e.from(t).toString("base64")},t.decodeBase64=function(t){return i(t),new Uint8Array(Array.prototype.slice.call(e.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new e(t).toString("base64")},t.decodeBase64=function(t){return i(t),new Uint8Array(Array.prototype.slice.call(new e(t,"base64"),0))}):(t.encodeBase64=function(t){var e,n=[],r=t.length;for(e=0;e<r;e++)n.push(String.fromCharCode(t[e]));return btoa(n.join(""))},t.decodeBase64=function(t){i(t);var e,n=atob(t),r=new Uint8Array(n.length);for(e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}),t})}).call(t,e(58).Buffer)},function(t,n,e){"use strict";function r(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=f.prototype:(null===t&&(t=new f(e)),t.length=e),t}function f(t,e,n){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,e,n);if("number"!=typeof t)return i(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return a(this,t)}function i(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function i(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),f.TYPED_ARRAY_SUPPORT?(t=e).__proto__=f.prototype:t=u(t,e),t}(t,e,n,r):"string"==typeof e?function o(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!f.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|l(e,n),i=(t=s(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function a(t,e){if(f.isBuffer(e)){var n=0|c(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function r(t){return t!=t}(e.length)?s(t,0):u(t,e);if("Buffer"===e.type&&U(e.data))return u(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e){if(o(e),t=s(t,e<0?0:0|c(e)),!f.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function u(t,e){var n=e.length<0?0:0|c(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function c(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function l(t,e){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return O(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return P(t).length;default:if(r)return O(t).length;e=(""+e).toLowerCase(),r=!0}}function h(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function d(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=f.from(e,r)),f.isBuffer(e))return 0===e.length?-1:p(t,e,n,r,i);if("number"==typeof e)return e&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):p(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function p(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var a,s=1,u=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u/=s=2,c/=2,n/=2}if(i){var l=-1;for(a=n;a<u;a++)if(o(t,a)===o(e,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*s}else-1!==l&&(a-=a-l),l=-1}else for(u<n+c&&(n=u-c),a=n;0<=a;a--){for(var f=!0,h=0;h<c;h++)if(o(t,a+h)!==o(e,h)){f=!1;break}if(f)return a}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function g(t,e,n,r){return L(function i(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function m(t,e,n,r){return L(function s(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function y(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,f=239<c?4:223<c?3:191<c?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(127<(u=(31&c)<<6|63&o)&&(l=u));break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(2047<(u=(15&c)<<12|(63&o)<<6|63&a)&&(u<55296||57343<u)&&(l=u));break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(65535<(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&u<1114112&&(l=u))}null===l?(l=65533,f=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function h(t){var e=t.length;if(e<=D)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=D));return n}(r)}function w(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function _(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function b(t,e,n){var r,i=t.length;(!e||e<0)&&(e=0),(!n||n<0||i<n)&&(n=i);for(var o="",a=e;a<n;++a)o+=(r=t[a])<16?"0"+r.toString(16):r.toString(16);return o}function E(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function S(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,n,r,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function A(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function I(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,i){return i||I(t,0,n,4),N.write(t,e,n,r,23,4),n+4}function x(t,e,n,r,i){return i||I(t,0,n,8),N.write(t,e,n,r,52,8),n+8}function C(t){if((t=function e(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function O(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=t.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function P(t){return M.toByteArray(C(t))}function L(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}var M=e(59),N=e(60),U=e(61);n.Buffer=f,n.SlowBuffer=function j(t){return+t!=t&&(t=0),f.alloc(+t)},n.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function H(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=r(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,e,n){return i(null,t,e,n)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,e,n){return function i(t,e,n,r){return o(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},f.allocUnsafe=function(t){return a(null,t)},f.allocUnsafeSlow=function(t){return a(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,e){if(!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!U(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;var r=f.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},f.byteLength=l,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?y(this,0,t):function s(t,e,n){var r,i,o,a=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return b(this,e,n);case"utf8":case"utf-8":return y(this,e,n);case"ascii":return w(this,e,n);case"latin1":case"binary":return _(this,e,n);case"base64":return r=this,o=n,0===(i=e)&&o===r.length?M.fromByteArray(r):M.fromByteArray(r.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,n);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,e,n,r,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=e)return 0;if(i<=r)return-1;if(n<=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=t.slice(e,n),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},f.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},f.prototype.indexOf=function(t,e,n){return d(this,t,e,n,!0)},f.prototype.lastIndexOf=function(t,e,n){return d(this,t,e,n,!1)},f.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i,o,a,s,u,c,l=this.length-e;if((void 0===n||l<n)&&(n=l),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var f=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return u=e,c=n,L(O(t,(s=this).length-u),s,u,c);case"ascii":return g(this,t,e,n);case"latin1":case"binary":return g(this,t,e,n);case"base64":return i=this,o=e,a=n,L(P(t),i,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,e,n);default:if(f)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;f.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t),f.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=f.prototype;else{var i=e-t;n=new f(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},f.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||S(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},f.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||S(t,e,this.length);for(var r=this[t+--e],i=1;0<e&&(i*=256);)r+=this[t+--e]*i;return r},f.prototype.readUInt8=function(t,e){return e||S(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,e){return e||S(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,e){return e||S(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,e){return e||S(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,e){return e||S(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||S(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*e)),r},f.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||S(t,e,this.length);for(var r=e,i=1,o=this[t+--r];0<r&&(i*=256);)o+=this[t+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*e)),o},f.prototype.readInt8=function(t,e){return e||S(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){e||S(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(t,e){e||S(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(t,e){return e||S(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return e||S(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return e||S(t,4,this.length),N.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return e||S(t,4,this.length),N.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return e||S(t,8,this.length),N.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return e||S(t,8,this.length),N.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},f.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;0<=--i&&(o*=256);)this[e+i]=t/o&255;return e+n},f.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},f.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},f.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},f.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):k(this,t,e,!0),e+4},f.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},f.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},f.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;0<=--o&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},f.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},f.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},f.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):k(this,t,e,!0),e+4},f.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},f.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},f.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},f.prototype.writeDoubleLE=function(t,e,n){return x(this,t,e,!0,n)},f.prototype.writeDoubleBE=function(t,e,n){return x(this,t,e,!1,n)},f.prototype.copy=function(t,e,n,r){if(n=n||0,r||0===r||(r=this.length),e>=t.length&&(e=t.length),e=e||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;0<=i;--i)t[i+e]=this[i+n];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},f.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(o=e;o<n;++o)this[o]=t;else{var a=f.isBuffer(t)?t:O(new f(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g},function(t,e){"use strict";function l(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function s(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(u[(a=r)>>18&63]+u[a>>12&63]+u[a>>6&63]+u[63&a]);var a;return i.join("")}e.byteLength=function o(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function d(t){for(var e,n=l(t),r=n[0],i=n[1],o=new h(function c(t,e,n){return 3*(e+n)/4-n}(0,r,i)),a=0,s=0<i?r-4:r,u=0;u<s;u+=4)e=f[t.charCodeAt(u)]<<18|f[t.charCodeAt(u+1)]<<12|f[t.charCodeAt(u+2)]<<6|f[t.charCodeAt(u+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===i&&(e=f[t.charCodeAt(u)]<<2|f[t.charCodeAt(u+1)]>>4,o[a++]=255&e),1===i&&(e=f[t.charCodeAt(u)]<<10|f[t.charCodeAt(u+1)]<<4|f[t.charCodeAt(u+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e),o},e.fromByteArray=function c(t){for(var e,n=t.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(s(t,o,a<o+16383?a:o+16383));return 1==r?(e=t[n-1],i.push(u[e>>2]+u[e<<4&63]+"==")):2==r&&(e=(t[n-2]<<8)+t[n-1],i.push(u[e>>10]+u[e>>4&63]+u[e<<2&63]+"=")),i.join("")};for(var u=[],f=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,i=n.length;r<i;++r)u[r]=n[r],f[n.charCodeAt(r)]=r;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;0<l;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;0<l;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(e+=1<=a+f?h/u:h*Math.pow(2,1-f))*u&&(a++,u/=2),l<=a+f?(s=0,a=l):1<=a+f?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));8<=i;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;0<c;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(24),a=n(12),s=n(8),u=n(9),c=n(2),l=(i=o["default"],r(f,i),f.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},f.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},f.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},f.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},f.prototype.isUsingTLS=function(){return this.usingTLS},f.prototype.startConnecting=function(){var n=this,r=function r(t,e){t?n.runner=n.strategy.connect(0,r):"error"===e.action?(n.emit("error",{type:"HandshakeError",error:e.error}),n.timeline.error({handshakeError:e.error})):(n.abortConnecting(),n.handshakeCallbacks[e.action](e))};this.runner=this.strategy.connect(0,r)},f.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},f.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},f.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},f.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),0<t&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new a.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},f.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},f.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new a.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},f.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},f.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new a.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},f.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new a.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},f.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},f.prototype.buildConnectionCallbacks=function(t){var e=this;return u.extend({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},f.prototype.buildHandshakeCallbacks=function(t){var e=this;return u.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},f.prototype.buildErrorCallbacks=function(){var n=this,t=function t(e){return function(t){t.error&&n.emit("error",{type:"WebSocketError",error:t.error}),e(t)}};return{tls_only:t(function(){n.usingTLS=!0,n.updateStrategy(),n.retryIn(0)}),refused:t(function(){n.disconnect()}),backoff:t(function(){n.retryIn(1e3)}),retry:t(function(){n.retryIn(0)})}},f.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},f.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},f.prototype.updateState=function(t,e){var n=this.state;if(n!==(this.state=t)){var r=t;"connected"===r&&(r+=" with new socket ID "+e.socket_id),s["default"].debug("State changed",n+" -> "+r),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},f.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},f);function f(t,e){var n=this;i.call(this),this.key=t,this.options=e||{},this.state="initialized",this.connection=null,this.usingTLS=!!e.useTLS,this.timeline=this.options.timeline,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var r=c["default"].getNetwork();r.bind("online",function(){n.timeline.info({netinfo:"online"}),"connecting"!==n.state&&"unavailable"!==n.state||n.retryIn(0)}),r.bind("offline",function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()}),this.updateStrategy()}e.__esModule=!0,e["default"]=l},function(t,e,n){"use strict";var r=n(9),i=n(43),o=n(31),a=(s.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function n(t,e){if(0!==t.indexOf("private-encrypted-"))return 0===t.indexOf("private-")?i["default"].createPrivateChannel(t,e):0===t.indexOf("presence-")?i["default"].createPresenceChannel(t,e):i["default"].createChannel(t,e);if("ReactNative"!=navigator.product)return i["default"].createEncryptedChannel(t,e);throw new o.UnsupportedFeature("Encrypted channels are not yet supported when using React Native builds.")}(t,e)),this.channels[t]},s.prototype.all=function(){return r.values(this.channels)},s.prototype.find=function(t){return this.channels[t]},s.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},s.prototype.disconnect=function(){r.objectApply(this.channels,function(t){t.disconnect()})},s);function s(){this.channels={}}e.__esModule=!0,e["default"]=a},function(t,e,n){"use strict";function f(t,e){return r["default"].defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var h=n(43),r=n(11),d=n(31),p=n(9),i=(o.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},o.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return f(new d.UnsupportedStrategy,e);if(this.priority<t)return f(new d.TransportPriorityTooLow,e);var r=!1,i=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),o=null,a=function a(){i.unbind("initialized",a),i.connect()},s=function s(){o=h["default"].createHandshake(i,function(t){r=!0,l(),e(null,t)})},u=function u(t){l(),e(t)},c=function c(){var t;l(),t=p.safeJSONStringify(i),e(new d.TransportClosed(t))},l=function l(){i.unbind("initialized",a),i.unbind("open",s),i.unbind("error",u),i.unbind("closed",c)};return i.bind("initialized",a),i.bind("open",s),i.bind("error",u),i.bind("closed",c),i.initialize(),{abort:function(){r||(l(),o?o.close():i.close())},forceMinPriority:function(t){r||n.priority<t&&(o?o.close():i.close())}}},o);function o(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";var r=n(9),i=n(11),a=n(12),o=(s.prototype.isSupported=function(){return r.any(this.strategies,i["default"].method("isSupported"))},s.prototype.connect=function(n,r){var i=this,o=this.strategies,a=0,s=this.timeout,u=null,c=function c(t,e){e?r(null,e):(a+=1,i.loop&&(a%=o.length),a<o.length?(s&&(s*=2,i.timeoutLimit&&(s=Math.min(s,i.timeoutLimit))),u=i.tryStrategy(o[a],n,{timeout:s,failFast:i.failFast},c)):r(!0))};return u=this.tryStrategy(o[a],n,{timeout:s,failFast:this.failFast},c),{abort:function(){u.abort()},forceMinPriority:function(t){n=t,u&&u.forceMinPriority(t)}}},s.prototype.tryStrategy=function(t,e,n,r){var i=null,o=null;return 0<n.timeout&&(i=new a.OneOffTimer(n.timeout,function(){o.abort(),r(!0)})),o=t.connect(e,function(t,e){t&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),r(t,e))}),{abort:function(){i&&i.ensureAborted(),o.abort()},forceMinPriority:function(t){o.forceMinPriority(t)}}},s);function s(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";function r(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var a=n(9),i=n(11),o=(s.prototype.isSupported=function(){return a.any(this.strategies,i["default"].method("isSupported"))},s.prototype.connect=function(t,o){return function e(t,i,o){var n=a.map(t,function(t,e,n,r){return t.connect(i,o(e,r))});return{abort:function(){a.apply(n,r)},forceMinPriority:function(e){a.apply(n,function(t){t.forceMinPriority(e)})}}}(this.strategies,t,function(r,i){return function(t,e){return(i[r].error=t)?void(function n(t){return a.all(t,function(t){return Boolean(t.error)})}(i)&&o(!0)):(a.apply(i,function(t){t.forceMinPriority(e.transport.priority)}),void o(null,e))}})},s);function s(t){this.strategies=t}e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";function l(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function f(t){var e=d["default"].getLocalStorage();if(e)try{delete e[l(t)]}catch(t){}}var h=n(11),d=n(2),p=n(65),v=n(9),r=(i.prototype.isSupported=function(){return this.strategy.isSupported()},i.prototype.connect=function(n,r){var o=this.usingTLS,a=function i(t){var e=d["default"].getLocalStorage();if(e)try{var n=e[l(t)];if(n)return JSON.parse(n)}catch(e){f(t)}return null}(o),s=[this.strategy];if(a&&a.timestamp+this.ttl>=h["default"].now()){var t=this.transports[a.transport];t&&(this.timeline.info({cached:!0,transport:a.transport,latency:a.latency}),s.push(new p["default"]([t],{timeout:2*a.latency+1e3,failFast:!0})))}var u=h["default"].now(),c=s.pop().connect(n,function a(t,e){t?(f(o),0<s.length?(u=h["default"].now(),c=s.pop().connect(n,a)):r(t)):(function i(t,e,n){var r=d["default"].getLocalStorage();if(r)try{r[l(t)]=v.safeJSONStringify({timestamp:h["default"].now(),transport:e,latency:n})}catch(t){}}(o,e.transport.name,h["default"].now()-u),r(null,e))});return{abort:function(){c.abort()},forceMinPriority:function(t){n=t,c&&c.forceMinPriority(t)}}},i);function i(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";var o=n(12),r=(i.prototype.isSupported=function(){return this.strategy.isSupported()},i.prototype.connect=function(e,t){var n,r=this.strategy,i=new o.OneOffTimer(this.options.delay,function(){n=r.connect(e,t)});return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}},i);function i(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}e.__esModule=!0,e["default"]=r},function(t,e){"use strict";var n=(r.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},r.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},r);function r(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}e.__esModule=!0,e["default"]=n},function(t,e){"use strict";var n=(r.prototype.isSupported=function(){return this.strategy.isSupported()},r.prototype.connect=function(t,n){var r=this.strategy.connect(t,function(t,e){e&&r.abort(),n(t,e)});return r},r);function r(t){this.strategy=t}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";var r=n(5);e.getGlobalConfig=function(){return{wsHost:r["default"].host,wsPort:r["default"].ws_port,wssPort:r["default"].wss_port,wsPath:r["default"].ws_path,httpHost:r["default"].sockjs_host,httpPort:r["default"].sockjs_http_port,httpsPort:r["default"].sockjs_https_port,httpPath:r["default"].sockjs_path,statsHost:r["default"].stats_host,authEndpoint:r["default"].channel_auth_endpoint,authTransport:r["default"].channel_auth_transport,activity_timeout:r["default"].activity_timeout,pong_timeout:r["default"].pong_timeout,unavailable_timeout:r["default"].unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}],n.c=i,n.p="",n(0);function n(t){if(i[t])return i[t].exports;var e=i[t]={exports:{},id:t,loaded:!1};return r[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var r,i},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?module.exports=r():"function"==typeof t&&t.amd?t([],r):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports.Pusher=r():n.Pusher=r(),Tn});